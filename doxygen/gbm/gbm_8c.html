<html>
<head>
<title>Mesa Source Code Documentation</title>
<link href="doxygen.css" rel="stylesheet" type="text/css">
</head>
<body>
<div class="qindex">
<a class="qindex" href="../main/index.html">core</a> |
<a class="qindex" href="../glapi/index.html">glapi</a> |
<a class="qindex" href="../glsl/index.html">glsl</a> |
<a class="qindex" href="../vbo/index.html">vbo</a> |
<a class="qindex" href="../math/index.html">math</a> |
<a class="qindex" href="../shader/index.html">shader</a> |
<a class="qindex" href="../swrast/index.html">swrast</a> |
<a class="qindex" href="../swrast_setup/index.html">swrast_setup</a> |
<a class="qindex" href="../tnl/index.html">tnl</a> |
<a class="qindex" href="../tnl_dd/index.html">tnl_dd</a> |
<a class="qindex" href="../gbm/index.html">gbm</a>
</div>
<!-- Generated by Doxygen 1.8.3.1 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li><a href="annotated.html"><span>Data&#160;Structures</span></a></li>
      <li class="current"><a href="files.html"><span>Files</span></a></li>
      <li>
        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.png" alt=""/></a>
          </span>
        </div>
      </li>
    </ul>
  </div>
  <div id="navrow2" class="tabs2">
    <ul class="tablist">
      <li><a href="files.html"><span>File&#160;List</span></a></li>
      <li><a href="globals.html"><span>Globals</span></a></li>
    </ul>
  </div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
<a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(0)"><span class="SelectionMark">&#160;</span>All</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(1)"><span class="SelectionMark">&#160;</span>Data Structures</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(2)"><span class="SelectionMark">&#160;</span>Files</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(3)"><span class="SelectionMark">&#160;</span>Functions</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(4)"><span class="SelectionMark">&#160;</span>Variables</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(5)"><span class="SelectionMark">&#160;</span>Enumerations</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(6)"><span class="SelectionMark">&#160;</span>Enumerator</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(7)"><span class="SelectionMark">&#160;</span>Macros</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(8)"><span class="SelectionMark">&#160;</span>Groups</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(9)"><span class="SelectionMark">&#160;</span>Pages</a></div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><a class="el" href="dir_68267d1309a1af8e8297ef4c3efbcdba.html">src</a></li><li class="navelem"><a class="el" href="dir_5def5320d21b96cae02c852030242f55.html">gbm</a></li><li class="navelem"><a class="el" href="dir_92b3dbd60926a34cd4565bb1cb48b38b.html">main</a></li>  </ul>
</div>
</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#define-members">Macros</a> &#124;
<a href="#func-members">Functions</a> &#124;
<a href="#var-members">Variables</a>  </div>
  <div class="headertitle">
<div class="title">gbm.c File Reference</div>  </div>
</div><!--header-->
<div class="contents">
<div class="textblock"><code>#include &lt;stddef.h&gt;</code><br/>
<code>#include &lt;stdio.h&gt;</code><br/>
<code>#include &lt;stdlib.h&gt;</code><br/>
<code>#include &lt;string.h&gt;</code><br/>
<code>#include &lt;stdint.h&gt;</code><br/>
<code>#include &lt;sys/types.h&gt;</code><br/>
<code>#include &lt;sys/stat.h&gt;</code><br/>
<code>#include &lt;unistd.h&gt;</code><br/>
<code>#include &quot;<a class="el" href="gbm_8h.html">gbm.h</a>&quot;</code><br/>
<code>#include &quot;<a class="el" href="gbmint_8h.html">gbmint.h</a>&quot;</code><br/>
<code>#include &quot;<a class="el" href="common_8h.html">common.h</a>&quot;</code><br/>
<code>#include &quot;<a class="el" href="backend_8h.html">backend.h</a>&quot;</code><br/>
</div><div class="textblock"><div class="dynheader">
Include dependency graph for gbm.c:</div>
<div class="dyncontent">
<div class="center"><img src="gbm_8c__incl.png" border="0" usemap="#gbm_8c" alt=""/></div>
<map name="gbm_8c" id="gbm_8c">
<area shape="rect" id="node19" href="gbm_8h.html" title="Generic Buffer Manager." alt="" coords="643,229,701,256"/><area shape="rect" id="node22" href="gbmint_8h.html" title="Internal implementation details of gbm." alt="" coords="657,155,729,181"/><area shape="rect" id="node26" href="common_8h.html" title="common.h" alt="" coords="880,80,963,107"/><area shape="rect" id="node30" href="backend_8h.html" title="backend.h" alt="" coords="672,80,755,107"/></map>
</div>
</div><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="define-members"></a>
Macros</h2></td></tr>
<tr class="memitem:ad3d8a3bd0c0b677acef144f2c2ef6d73"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="gbm_8c.html#ad3d8a3bd0c0b677acef144f2c2ef6d73">_BSD_SOURCE</a></td></tr>
<tr class="separator:ad3d8a3bd0c0b677acef144f2c2ef6d73"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a25f003de16c08a4888b69f619d70f427"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="gbm_8c.html#a25f003de16c08a4888b69f619d70f427">ARRAY_SIZE</a>(a)&#160;&#160;&#160;(sizeof(a)/sizeof((a)[0]))</td></tr>
<tr class="separator:a25f003de16c08a4888b69f619d70f427"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:acd849ed84af2dc0acebc4bf0383c0d02"><td class="memItemLeft" align="right" valign="top"><a class="el" href="gbmint_8h.html#a4742e239b75fdb5268ed2711c94cf622">GBM_EXPORT</a> int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="gbm_8c.html#acd849ed84af2dc0acebc4bf0383c0d02">gbm_device_get_fd</a> (struct <a class="el" href="structgbm__device.html">gbm_device</a> *gbm)</td></tr>
<tr class="memdesc:acd849ed84af2dc0acebc4bf0383c0d02"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns the file description for the gbm device.  <a href="#acd849ed84af2dc0acebc4bf0383c0d02">More...</a><br/></td></tr>
<tr class="separator:acd849ed84af2dc0acebc4bf0383c0d02"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad9050e15ff4931a0606ed2869a17add6"><td class="memItemLeft" align="right" valign="top"><a class="el" href="gbmint_8h.html#a4742e239b75fdb5268ed2711c94cf622">GBM_EXPORT</a> const char *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="gbm_8c.html#ad9050e15ff4931a0606ed2869a17add6">gbm_device_get_backend_name</a> (struct <a class="el" href="structgbm__device.html">gbm_device</a> *gbm)</td></tr>
<tr class="memdesc:ad9050e15ff4931a0606ed2869a17add6"><td class="mdescLeft">&#160;</td><td class="mdescRight">Get the backend name for the given gbm device.  <a href="#ad9050e15ff4931a0606ed2869a17add6">More...</a><br/></td></tr>
<tr class="separator:ad9050e15ff4931a0606ed2869a17add6"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7ff3c1afb2e53325435bfec201f6296f"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="gbm_8c.html#a7ff3c1afb2e53325435bfec201f6296f">gbm_device_is_format_supported</a> (struct <a class="el" href="structgbm__device.html">gbm_device</a> *gbm, uint32_t format, uint32_t usage)</td></tr>
<tr class="memdesc:a7ff3c1afb2e53325435bfec201f6296f"><td class="mdescLeft">&#160;</td><td class="mdescRight">Test if a format is supported for a given set of usage flags.  <a href="#a7ff3c1afb2e53325435bfec201f6296f">More...</a><br/></td></tr>
<tr class="separator:a7ff3c1afb2e53325435bfec201f6296f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af6a7bffb9b18ba6f75221fe6d0fa0180"><td class="memItemLeft" align="right" valign="top"><a class="el" href="gbmint_8h.html#a4742e239b75fdb5268ed2711c94cf622">GBM_EXPORT</a> <a class="elRef" doxygen="math.tag:../math/" href="../math/m__xform_8h.html#a8aa1a77d4a1470f10dcc93ed4564cb72">void</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="gbm_8c.html#af6a7bffb9b18ba6f75221fe6d0fa0180">gbm_device_destroy</a> (struct <a class="el" href="structgbm__device.html">gbm_device</a> *gbm)</td></tr>
<tr class="memdesc:af6a7bffb9b18ba6f75221fe6d0fa0180"><td class="mdescLeft">&#160;</td><td class="mdescRight">Destroy the gbm device and free all resources associated with it.  <a href="#af6a7bffb9b18ba6f75221fe6d0fa0180">More...</a><br/></td></tr>
<tr class="separator:af6a7bffb9b18ba6f75221fe6d0fa0180"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a22930788341b6f7e1a797351c7063451"><td class="memItemLeft" align="right" valign="top"><a class="el" href="gbmint_8h.html#a4742e239b75fdb5268ed2711c94cf622">GBM_EXPORT</a> struct <a class="el" href="structgbm__device.html">gbm_device</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="gbm_8c.html#a22930788341b6f7e1a797351c7063451">_gbm_mesa_get_device</a> (int fd)</td></tr>
<tr class="separator:a22930788341b6f7e1a797351c7063451"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad867861b556f0e7bc6b1b1571997592c"><td class="memItemLeft" align="right" valign="top"><a class="el" href="gbmint_8h.html#a4742e239b75fdb5268ed2711c94cf622">GBM_EXPORT</a> struct <a class="el" href="structgbm__device.html">gbm_device</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="gbm_8c.html#ad867861b556f0e7bc6b1b1571997592c">gbm_create_device</a> (int fd)</td></tr>
<tr class="memdesc:ad867861b556f0e7bc6b1b1571997592c"><td class="mdescLeft">&#160;</td><td class="mdescRight">Create a gbm device for allocating buffers.  <a href="#ad867861b556f0e7bc6b1b1571997592c">More...</a><br/></td></tr>
<tr class="separator:ad867861b556f0e7bc6b1b1571997592c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a64c3adf4d000b0bb116490721bc88a8e"><td class="memItemLeft" align="right" valign="top"><a class="el" href="gbmint_8h.html#a4742e239b75fdb5268ed2711c94cf622">GBM_EXPORT</a> unsigned int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="gbm_8c.html#a64c3adf4d000b0bb116490721bc88a8e">gbm_bo_get_width</a> (struct <a class="el" href="structgbm__bo.html">gbm_bo</a> *bo)</td></tr>
<tr class="memdesc:a64c3adf4d000b0bb116490721bc88a8e"><td class="mdescLeft">&#160;</td><td class="mdescRight">Get the width of the buffer object.  <a href="#a64c3adf4d000b0bb116490721bc88a8e">More...</a><br/></td></tr>
<tr class="separator:a64c3adf4d000b0bb116490721bc88a8e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a43f7bda3d50f81cf40033c9bdb01b385"><td class="memItemLeft" align="right" valign="top"><a class="el" href="gbmint_8h.html#a4742e239b75fdb5268ed2711c94cf622">GBM_EXPORT</a> unsigned int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="gbm_8c.html#a43f7bda3d50f81cf40033c9bdb01b385">gbm_bo_get_height</a> (struct <a class="el" href="structgbm__bo.html">gbm_bo</a> *bo)</td></tr>
<tr class="memdesc:a43f7bda3d50f81cf40033c9bdb01b385"><td class="mdescLeft">&#160;</td><td class="mdescRight">Get the height of the buffer object.  <a href="#a43f7bda3d50f81cf40033c9bdb01b385">More...</a><br/></td></tr>
<tr class="separator:a43f7bda3d50f81cf40033c9bdb01b385"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a195f10fb17e24ce3b7e351fbed3a5ec0"><td class="memItemLeft" align="right" valign="top"><a class="el" href="gbmint_8h.html#a4742e239b75fdb5268ed2711c94cf622">GBM_EXPORT</a> uint32_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="gbm_8c.html#a195f10fb17e24ce3b7e351fbed3a5ec0">gbm_bo_get_stride</a> (struct <a class="el" href="structgbm__bo.html">gbm_bo</a> *bo)</td></tr>
<tr class="memdesc:a195f10fb17e24ce3b7e351fbed3a5ec0"><td class="mdescLeft">&#160;</td><td class="mdescRight">Get the stride of the buffer object.  <a href="#a195f10fb17e24ce3b7e351fbed3a5ec0">More...</a><br/></td></tr>
<tr class="separator:a195f10fb17e24ce3b7e351fbed3a5ec0"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af376a3546f5ff57f75ce9f353e401d54"><td class="memItemLeft" align="right" valign="top"><a class="el" href="gbmint_8h.html#a4742e239b75fdb5268ed2711c94cf622">GBM_EXPORT</a> uint32_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="gbm_8c.html#af376a3546f5ff57f75ce9f353e401d54">gbm_bo_get_format</a> (struct <a class="el" href="structgbm__bo.html">gbm_bo</a> *bo)</td></tr>
<tr class="memdesc:af376a3546f5ff57f75ce9f353e401d54"><td class="mdescLeft">&#160;</td><td class="mdescRight">Get the format of the buffer object.  <a href="#af376a3546f5ff57f75ce9f353e401d54">More...</a><br/></td></tr>
<tr class="separator:af376a3546f5ff57f75ce9f353e401d54"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9de9e4a09c816ff969a8543b3264bb2c"><td class="memItemLeft" align="right" valign="top"><a class="el" href="gbmint_8h.html#a4742e239b75fdb5268ed2711c94cf622">GBM_EXPORT</a> union <a class="el" href="uniongbm__bo__handle.html">gbm_bo_handle</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="gbm_8c.html#a9de9e4a09c816ff969a8543b3264bb2c">gbm_bo_get_handle</a> (struct <a class="el" href="structgbm__bo.html">gbm_bo</a> *bo)</td></tr>
<tr class="memdesc:a9de9e4a09c816ff969a8543b3264bb2c"><td class="mdescLeft">&#160;</td><td class="mdescRight">Get the handle of the buffer object.  <a href="#a9de9e4a09c816ff969a8543b3264bb2c">More...</a><br/></td></tr>
<tr class="separator:a9de9e4a09c816ff969a8543b3264bb2c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a493394751bbf960b13fe4b7777c9ce0d"><td class="memItemLeft" align="right" valign="top"><a class="el" href="gbmint_8h.html#a4742e239b75fdb5268ed2711c94cf622">GBM_EXPORT</a> int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="gbm_8c.html#a493394751bbf960b13fe4b7777c9ce0d">gbm_bo_write</a> (struct <a class="el" href="structgbm__bo.html">gbm_bo</a> *bo, const <a class="elRef" doxygen="math.tag:../math/" href="../math/m__xform_8h.html#a8aa1a77d4a1470f10dcc93ed4564cb72">void</a> *buf, size_t count)</td></tr>
<tr class="memdesc:a493394751bbf960b13fe4b7777c9ce0d"><td class="mdescLeft">&#160;</td><td class="mdescRight">Write data into the buffer object.  <a href="#a493394751bbf960b13fe4b7777c9ce0d">More...</a><br/></td></tr>
<tr class="separator:a493394751bbf960b13fe4b7777c9ce0d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a05351fa6a27e2b286c4577c85ca98bcb"><td class="memItemLeft" align="right" valign="top"><a class="el" href="gbmint_8h.html#a4742e239b75fdb5268ed2711c94cf622">GBM_EXPORT</a> struct <a class="el" href="structgbm__device.html">gbm_device</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="gbm_8c.html#a05351fa6a27e2b286c4577c85ca98bcb">gbm_bo_get_device</a> (struct <a class="el" href="structgbm__bo.html">gbm_bo</a> *bo)</td></tr>
<tr class="memdesc:a05351fa6a27e2b286c4577c85ca98bcb"><td class="mdescLeft">&#160;</td><td class="mdescRight">Get the gbm device used to create the buffer object.  <a href="#a05351fa6a27e2b286c4577c85ca98bcb">More...</a><br/></td></tr>
<tr class="separator:a05351fa6a27e2b286c4577c85ca98bcb"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8433c1ee7f12310f943a735a6b939dad"><td class="memItemLeft" align="right" valign="top"><a class="el" href="gbmint_8h.html#a4742e239b75fdb5268ed2711c94cf622">GBM_EXPORT</a> <a class="elRef" doxygen="math.tag:../math/" href="../math/m__xform_8h.html#a8aa1a77d4a1470f10dcc93ed4564cb72">void</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="gbm_8c.html#a8433c1ee7f12310f943a735a6b939dad">gbm_bo_set_user_data</a> (struct <a class="el" href="structgbm__bo.html">gbm_bo</a> *bo, <a class="elRef" doxygen="math.tag:../math/" href="../math/m__xform_8h.html#a8aa1a77d4a1470f10dcc93ed4564cb72">void</a> *data, <a class="elRef" doxygen="math.tag:../math/" href="../math/m__xform_8h.html#a8aa1a77d4a1470f10dcc93ed4564cb72">void</a>(*destroy_user_data)(struct <a class="el" href="structgbm__bo.html">gbm_bo</a> *, <a class="elRef" doxygen="math.tag:../math/" href="../math/m__xform_8h.html#a8aa1a77d4a1470f10dcc93ed4564cb72">void</a> *))</td></tr>
<tr class="memdesc:a8433c1ee7f12310f943a735a6b939dad"><td class="mdescLeft">&#160;</td><td class="mdescRight">Set the user data associated with a buffer object.  <a href="#a8433c1ee7f12310f943a735a6b939dad">More...</a><br/></td></tr>
<tr class="separator:a8433c1ee7f12310f943a735a6b939dad"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a79d4fd60f210cebec2646b5fcc78250c"><td class="memItemLeft" align="right" valign="top"><a class="el" href="gbmint_8h.html#a4742e239b75fdb5268ed2711c94cf622">GBM_EXPORT</a> <a class="elRef" doxygen="math.tag:../math/" href="../math/m__xform_8h.html#a8aa1a77d4a1470f10dcc93ed4564cb72">void</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="gbm_8c.html#a79d4fd60f210cebec2646b5fcc78250c">gbm_bo_get_user_data</a> (struct <a class="el" href="structgbm__bo.html">gbm_bo</a> *bo)</td></tr>
<tr class="memdesc:a79d4fd60f210cebec2646b5fcc78250c"><td class="mdescLeft">&#160;</td><td class="mdescRight">Get the user data associated with a buffer object.  <a href="#a79d4fd60f210cebec2646b5fcc78250c">More...</a><br/></td></tr>
<tr class="separator:a79d4fd60f210cebec2646b5fcc78250c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6a2b975ce5ce5c5f55220c2c2e423ee6"><td class="memItemLeft" align="right" valign="top"><a class="el" href="gbmint_8h.html#a4742e239b75fdb5268ed2711c94cf622">GBM_EXPORT</a> <a class="elRef" doxygen="math.tag:../math/" href="../math/m__xform_8h.html#a8aa1a77d4a1470f10dcc93ed4564cb72">void</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="gbm_8c.html#a6a2b975ce5ce5c5f55220c2c2e423ee6">gbm_bo_destroy</a> (struct <a class="el" href="structgbm__bo.html">gbm_bo</a> *bo)</td></tr>
<tr class="memdesc:a6a2b975ce5ce5c5f55220c2c2e423ee6"><td class="mdescLeft">&#160;</td><td class="mdescRight">Destroys the given buffer object and frees all resources associated with it.  <a href="#a6a2b975ce5ce5c5f55220c2c2e423ee6">More...</a><br/></td></tr>
<tr class="separator:a6a2b975ce5ce5c5f55220c2c2e423ee6"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a064d5c873662e0f4c9d167ec482adff3"><td class="memItemLeft" align="right" valign="top"><a class="el" href="gbmint_8h.html#a4742e239b75fdb5268ed2711c94cf622">GBM_EXPORT</a> struct <a class="el" href="structgbm__bo.html">gbm_bo</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="gbm_8c.html#a064d5c873662e0f4c9d167ec482adff3">gbm_bo_create</a> (struct <a class="el" href="structgbm__device.html">gbm_device</a> *gbm, uint32_t width, uint32_t height, uint32_t format, uint32_t usage)</td></tr>
<tr class="memdesc:a064d5c873662e0f4c9d167ec482adff3"><td class="mdescLeft">&#160;</td><td class="mdescRight">Allocate a buffer object for the given dimensions.  <a href="#a064d5c873662e0f4c9d167ec482adff3">More...</a><br/></td></tr>
<tr class="separator:a064d5c873662e0f4c9d167ec482adff3"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3254db38311793c169bc38166f247552"><td class="memItemLeft" align="right" valign="top"><a class="el" href="gbmint_8h.html#a4742e239b75fdb5268ed2711c94cf622">GBM_EXPORT</a> struct <a class="el" href="structgbm__bo.html">gbm_bo</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="gbm_8c.html#a3254db38311793c169bc38166f247552">gbm_bo_import</a> (struct <a class="el" href="structgbm__device.html">gbm_device</a> *gbm, uint32_t type, <a class="elRef" doxygen="math.tag:../math/" href="../math/m__xform_8h.html#a8aa1a77d4a1470f10dcc93ed4564cb72">void</a> *buffer, uint32_t usage)</td></tr>
<tr class="memdesc:a3254db38311793c169bc38166f247552"><td class="mdescLeft">&#160;</td><td class="mdescRight">Create a gbm buffer object from an foreign object.  <a href="#a3254db38311793c169bc38166f247552">More...</a><br/></td></tr>
<tr class="separator:a3254db38311793c169bc38166f247552"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7ca3a2f6f068d0ba6572494c38d4449c"><td class="memItemLeft" align="right" valign="top"><a class="el" href="gbmint_8h.html#a4742e239b75fdb5268ed2711c94cf622">GBM_EXPORT</a> struct <a class="el" href="structgbm__surface.html">gbm_surface</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="gbm_8c.html#a7ca3a2f6f068d0ba6572494c38d4449c">gbm_surface_create</a> (struct <a class="el" href="structgbm__device.html">gbm_device</a> *gbm, uint32_t width, uint32_t height, uint32_t format, uint32_t flags)</td></tr>
<tr class="memdesc:a7ca3a2f6f068d0ba6572494c38d4449c"><td class="mdescLeft">&#160;</td><td class="mdescRight">Allocate a surface object.  <a href="#a7ca3a2f6f068d0ba6572494c38d4449c">More...</a><br/></td></tr>
<tr class="separator:a7ca3a2f6f068d0ba6572494c38d4449c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3b2266daa54df2ed5f11f437df8e2cea"><td class="memItemLeft" align="right" valign="top"><a class="el" href="gbmint_8h.html#a4742e239b75fdb5268ed2711c94cf622">GBM_EXPORT</a> <a class="elRef" doxygen="math.tag:../math/" href="../math/m__xform_8h.html#a8aa1a77d4a1470f10dcc93ed4564cb72">void</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="gbm_8c.html#a3b2266daa54df2ed5f11f437df8e2cea">gbm_surface_destroy</a> (struct <a class="el" href="structgbm__surface.html">gbm_surface</a> *surf)</td></tr>
<tr class="memdesc:a3b2266daa54df2ed5f11f437df8e2cea"><td class="mdescLeft">&#160;</td><td class="mdescRight">Destroys the given surface and frees all resources associated with it.  <a href="#a3b2266daa54df2ed5f11f437df8e2cea">More...</a><br/></td></tr>
<tr class="separator:a3b2266daa54df2ed5f11f437df8e2cea"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a676013055c8e27312090ebf114609ccf"><td class="memItemLeft" align="right" valign="top"><a class="el" href="gbmint_8h.html#a4742e239b75fdb5268ed2711c94cf622">GBM_EXPORT</a> struct <a class="el" href="structgbm__bo.html">gbm_bo</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="gbm_8c.html#a676013055c8e27312090ebf114609ccf">gbm_surface_lock_front_buffer</a> (struct <a class="el" href="structgbm__surface.html">gbm_surface</a> *surf)</td></tr>
<tr class="memdesc:a676013055c8e27312090ebf114609ccf"><td class="mdescLeft">&#160;</td><td class="mdescRight">Lock the surface's current front buffer.  <a href="#a676013055c8e27312090ebf114609ccf">More...</a><br/></td></tr>
<tr class="separator:a676013055c8e27312090ebf114609ccf"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a02e4d09e3a9f645706777fff3a33d81a"><td class="memItemLeft" align="right" valign="top"><a class="el" href="gbmint_8h.html#a4742e239b75fdb5268ed2711c94cf622">GBM_EXPORT</a> <a class="elRef" doxygen="math.tag:../math/" href="../math/m__xform_8h.html#a8aa1a77d4a1470f10dcc93ed4564cb72">void</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="gbm_8c.html#a02e4d09e3a9f645706777fff3a33d81a">gbm_surface_release_buffer</a> (struct <a class="el" href="structgbm__surface.html">gbm_surface</a> *surf, struct <a class="el" href="structgbm__bo.html">gbm_bo</a> *bo)</td></tr>
<tr class="memdesc:a02e4d09e3a9f645706777fff3a33d81a"><td class="mdescLeft">&#160;</td><td class="mdescRight">Release a locked buffer obtained with <a class="el" href="gbm_8c.html#a676013055c8e27312090ebf114609ccf" title="Lock the surface&#39;s current front buffer.">gbm_surface_lock_front_buffer()</a>  <a href="#a02e4d09e3a9f645706777fff3a33d81a">More...</a><br/></td></tr>
<tr class="separator:a02e4d09e3a9f645706777fff3a33d81a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a178b564fa7dd55db7a13fa3eb589e77f"><td class="memItemLeft" align="right" valign="top"><a class="el" href="gbmint_8h.html#a4742e239b75fdb5268ed2711c94cf622">GBM_EXPORT</a> int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="gbm_8c.html#a178b564fa7dd55db7a13fa3eb589e77f">gbm_surface_has_free_buffers</a> (struct <a class="el" href="structgbm__surface.html">gbm_surface</a> *surf)</td></tr>
<tr class="memdesc:a178b564fa7dd55db7a13fa3eb589e77f"><td class="mdescLeft">&#160;</td><td class="mdescRight">Return whether or not a surface has free (non-locked) buffers.  <a href="#a178b564fa7dd55db7a13fa3eb589e77f">More...</a><br/></td></tr>
<tr class="separator:a178b564fa7dd55db7a13fa3eb589e77f"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="var-members"></a>
Variables</h2></td></tr>
<tr class="memitem:abeb541d075617cb3497feeb975938221"><td class="memItemLeft" align="right" valign="top">struct <a class="el" href="structgbm__device.html">gbm_device</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="gbm_8c.html#abeb541d075617cb3497feeb975938221">devices</a> [16]</td></tr>
<tr class="separator:abeb541d075617cb3497feeb975938221"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:abbbec5e6379740a1834830e8135599a4"><td class="memItemLeft" align="right" valign="top">static int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="gbm_8c.html#abbbec5e6379740a1834830e8135599a4">device_num</a> = 0</td></tr>
<tr class="separator:abbbec5e6379740a1834830e8135599a4"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<h2 class="groupheader">Macro Definition Documentation</h2>
<a class="anchor" id="ad3d8a3bd0c0b677acef144f2c2ef6d73"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define _BSD_SOURCE</td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a class="anchor" id="a25f003de16c08a4888b69f619d70f427"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define ARRAY_SIZE</td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">a</td><td>)</td>
          <td>&#160;&#160;&#160;(sizeof(a)/sizeof((a)[0]))</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Referenced by <a class="el" href="gbm_8h.html#ae1d43ff91b088cc857deb7c2b4a0c969">gbm_create_device()</a>.</p>

</div>
</div>
<h2 class="groupheader">Function Documentation</h2>
<a class="anchor" id="a22930788341b6f7e1a797351c7063451"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="gbmint_8h.html#a4742e239b75fdb5268ed2711c94cf622">GBM_EXPORT</a> struct <a class="el" href="structgbm__device.html">gbm_device</a>* _gbm_mesa_get_device </td>
          <td>(</td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>fd</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">read</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>References <a class="el" href="gbm_8c.html#abbbec5e6379740a1834830e8135599a4">device_num</a>, <a class="elRef" doxygen="main.tag:../core/" href="../core/compiler_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>, <a class="el" href="structgbm__device.html#a381d61056df4da0ae4dcf684e17f81f4">gbm_device::refcount</a>, and <a class="el" href="structgbm__device.html#af01b9c13c5ec9986ed103d2e0a121fc6">gbm_device::stat</a>.</p>

</div>
</div>
<a class="anchor" id="a064d5c873662e0f4c9d167ec482adff3"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="gbmint_8h.html#a4742e239b75fdb5268ed2711c94cf622">GBM_EXPORT</a> struct <a class="el" href="structgbm__bo.html">gbm_bo</a>* gbm_bo_create </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structgbm__device.html">gbm_device</a> *&#160;</td>
          <td class="paramname"><em>gbm</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint32_t&#160;</td>
          <td class="paramname"><em>width</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint32_t&#160;</td>
          <td class="paramname"><em>height</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint32_t&#160;</td>
          <td class="paramname"><em>format</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint32_t&#160;</td>
          <td class="paramname"><em>usage</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">read</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Allocate a buffer object for the given dimensions. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">gbm</td><td>The gbm device returned from <a class="el" href="gbm_8c.html#ad867861b556f0e7bc6b1b1571997592c" title="Create a gbm device for allocating buffers.">gbm_create_device()</a> </td></tr>
    <tr><td class="paramname">width</td><td>The width for the buffer </td></tr>
    <tr><td class="paramname">height</td><td>The height for the buffer </td></tr>
    <tr><td class="paramname">format</td><td>The format to use for the buffer </td></tr>
    <tr><td class="paramname">usage</td><td>The union of the usage flags for this buffer</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>A newly allocated buffer that should be freed with <a class="el" href="gbm_8c.html#a6a2b975ce5ce5c5f55220c2c2e423ee6" title="Destroys the given buffer object and frees all resources associated with it.">gbm_bo_destroy()</a> when no longer needed. If an error occurs during allocation NULL will be returned.</dd></dl>
<dl class="section see"><dt>See Also</dt><dd>enum <a class="el" href="gbm_8h.html#af49ee0cd07aaeddacd69caac78b5197f" title="Format of the allocated buffer.">gbm_bo_format</a> for the list of <a class="elRef" doxygen="main.tag:../core/" href="../core/texcompress__cpal_8c.html#ad214df4f9fd4e22dade7ac2ea082b4e2">formats</a> </dd>
<dd>
enum <a class="el" href="gbm_8h.html#a008aff9baaf6efa68dfc159d00da63f8" title="Flags to indicate the intended use for the buffer - these are passed into gbm_bo_create().">gbm_bo_flags</a> for the list of usage flags </dd></dl>

<p>References <a class="el" href="structgbm__device.html#a808e182e004345f7c2ed658ac6968dec">gbm_device::bo_create</a>, <a class="el" href="gbm_8h.html#a008aff9baaf6efa68dfc159d00da63f8ab38434c0e1277ffdb9752ec0120405ba">GBM_BO_USE_CURSOR_64X64</a>, and <a class="elRef" doxygen="main.tag:../core/" href="../core/compiler_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>.</p>

</div>
</div>
<a class="anchor" id="a6a2b975ce5ce5c5f55220c2c2e423ee6"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="gbmint_8h.html#a4742e239b75fdb5268ed2711c94cf622">GBM_EXPORT</a> <a class="elRef" doxygen="math.tag:../math/" href="../math/m__xform_8h.html#a8aa1a77d4a1470f10dcc93ed4564cb72">void</a> gbm_bo_destroy </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structgbm__bo.html">gbm_bo</a> *&#160;</td>
          <td class="paramname"><em>bo</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Destroys the given buffer object and frees all resources associated with it. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">bo</td><td>The buffer object </td></tr>
  </table>
  </dd>
</dl>

<p>References <a class="el" href="structgbm__device.html#ae1e772a97bcfa9bdcb9c1308caa57852">gbm_device::bo_destroy</a>, <a class="el" href="structgbm__bo.html#a99bd20e3b80c59bc0e2ecf620060e59e">gbm_bo::destroy_user_data</a>, <a class="el" href="structgbm__bo.html#ac825743a687c3a69a91377da0012aa0c">gbm_bo::gbm</a>, and <a class="el" href="structgbm__bo.html#a46b53d0e32595d5b9ac1b88bb54016ce">gbm_bo::user_data</a>.</p>

</div>
</div>
<a class="anchor" id="a05351fa6a27e2b286c4577c85ca98bcb"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="gbmint_8h.html#a4742e239b75fdb5268ed2711c94cf622">GBM_EXPORT</a> struct <a class="el" href="structgbm__device.html">gbm_device</a>* gbm_bo_get_device </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structgbm__bo.html">gbm_bo</a> *&#160;</td>
          <td class="paramname"><em>bo</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">read</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Get the gbm device used to create the buffer object. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">bo</td><td>The buffer object </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>Returns the gbm device with which the buffer object was created </dd></dl>

<p>References <a class="el" href="structgbm__bo.html#ac825743a687c3a69a91377da0012aa0c">gbm_bo::gbm</a>.</p>

</div>
</div>
<a class="anchor" id="af376a3546f5ff57f75ce9f353e401d54"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="gbmint_8h.html#a4742e239b75fdb5268ed2711c94cf622">GBM_EXPORT</a> uint32_t gbm_bo_get_format </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structgbm__bo.html">gbm_bo</a> *&#160;</td>
          <td class="paramname"><em>bo</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Get the format of the buffer object. </p>
<p>The format of the pixels in the buffer.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">bo</td><td>The buffer object </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>The format of buffer object, on of the GBM_FORMAT_* codes </dd></dl>

<p>References <a class="el" href="structgbm__bo.html#a1591f7ca2c257b4bc4a77540b8f45fb9">gbm_bo::format</a>.</p>

</div>
</div>
<a class="anchor" id="a9de9e4a09c816ff969a8543b3264bb2c"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="gbmint_8h.html#a4742e239b75fdb5268ed2711c94cf622">GBM_EXPORT</a> union <a class="el" href="uniongbm__bo__handle.html">gbm_bo_handle</a> gbm_bo_get_handle </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structgbm__bo.html">gbm_bo</a> *&#160;</td>
          <td class="paramname"><em>bo</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">write</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Get the handle of the buffer object. </p>
<p>This is stored in the platform generic union <a class="el" href="uniongbm__bo__handle.html" title="Abstraction representing the handle to a buffer allocated by the manager.">gbm_bo_handle</a> type. However the format of this handle is platform specific.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">bo</td><td>The buffer object </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>Returns the handle of the allocated buffer object </dd></dl>

</div>
</div>
<a class="anchor" id="a43f7bda3d50f81cf40033c9bdb01b385"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="gbmint_8h.html#a4742e239b75fdb5268ed2711c94cf622">GBM_EXPORT</a> unsigned int gbm_bo_get_height </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structgbm__bo.html">gbm_bo</a> *&#160;</td>
          <td class="paramname"><em>bo</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Get the height of the buffer object. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">bo</td><td>The buffer object </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>The height of the allocated buffer object </dd></dl>

<p>References <a class="el" href="structgbm__bo.html#a2a9563630c6c11b628e313a844acf312">gbm_bo::height</a>.</p>

</div>
</div>
<a class="anchor" id="a195f10fb17e24ce3b7e351fbed3a5ec0"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="gbmint_8h.html#a4742e239b75fdb5268ed2711c94cf622">GBM_EXPORT</a> uint32_t gbm_bo_get_stride </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structgbm__bo.html">gbm_bo</a> *&#160;</td>
          <td class="paramname"><em>bo</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Get the stride of the buffer object. </p>
<p>This is calculated by the backend when it does the allocation in <a class="el" href="gbm_8c.html#a064d5c873662e0f4c9d167ec482adff3" title="Allocate a buffer object for the given dimensions.">gbm_bo_create()</a></p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">bo</td><td>The buffer object </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>The stride of the allocated buffer object in bytes </dd></dl>

<p>References <a class="el" href="structgbm__bo.html#ab1a593052805274d82ee243ca230a937">gbm_bo::stride</a>.</p>

</div>
</div>
<a class="anchor" id="a79d4fd60f210cebec2646b5fcc78250c"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="gbmint_8h.html#a4742e239b75fdb5268ed2711c94cf622">GBM_EXPORT</a> <a class="elRef" doxygen="math.tag:../math/" href="../math/m__xform_8h.html#a8aa1a77d4a1470f10dcc93ed4564cb72">void</a>* gbm_bo_get_user_data </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structgbm__bo.html">gbm_bo</a> *&#160;</td>
          <td class="paramname"><em>bo</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Get the user data associated with a buffer object. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">bo</td><td>The buffer object </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>Returns the user data associated with the buffer object or NULL if no data was associated with it</dd></dl>
<dl class="section see"><dt>See Also</dt><dd><a class="el" href="gbm_8c.html#a8433c1ee7f12310f943a735a6b939dad" title="Set the user data associated with a buffer object.">gbm_bo_set_user_data()</a> </dd></dl>

<p>References <a class="el" href="structgbm__bo.html#a46b53d0e32595d5b9ac1b88bb54016ce">gbm_bo::user_data</a>.</p>

</div>
</div>
<a class="anchor" id="a64c3adf4d000b0bb116490721bc88a8e"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="gbmint_8h.html#a4742e239b75fdb5268ed2711c94cf622">GBM_EXPORT</a> unsigned int gbm_bo_get_width </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structgbm__bo.html">gbm_bo</a> *&#160;</td>
          <td class="paramname"><em>bo</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Get the width of the buffer object. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">bo</td><td>The buffer object </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>The width of the allocated buffer object </dd></dl>

<p>References <a class="el" href="structgbm__bo.html#ae1555962b4476fa4cfc190c1277d5d84">gbm_bo::width</a>.</p>

</div>
</div>
<a class="anchor" id="a3254db38311793c169bc38166f247552"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="gbmint_8h.html#a4742e239b75fdb5268ed2711c94cf622">GBM_EXPORT</a> struct <a class="el" href="structgbm__bo.html">gbm_bo</a>* gbm_bo_import </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structgbm__device.html">gbm_device</a> *&#160;</td>
          <td class="paramname"><em>gbm</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint32_t&#160;</td>
          <td class="paramname"><em>type</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="elRef" doxygen="math.tag:../math/" href="../math/m__xform_8h.html#a8aa1a77d4a1470f10dcc93ed4564cb72">void</a> *&#160;</td>
          <td class="paramname"><em>buffer</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint32_t&#160;</td>
          <td class="paramname"><em>usage</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">read</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Create a gbm buffer object from an foreign object. </p>
<p>This function imports a foreign object and creates a new gbm bo for it. This enabled using the foreign object with a display API such as KMS. Currently two types of foreign objects are supported, indicated by the type argument:</p>
<p>GBM_BO_IMPORT_WL_BUFFER GBM_BO_IMPORT_EGL_IMAGE</p>
<p>The the gbm bo shares the underlying pixels but its life-time is independent of the foreign object.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">gbm</td><td>The gbm device returned from <a class="el" href="gbm_8c.html#ad867861b556f0e7bc6b1b1571997592c" title="Create a gbm device for allocating buffers.">gbm_create_device()</a> </td></tr>
    <tr><td class="paramname">gbm</td><td>The type of object we're importing </td></tr>
    <tr><td class="paramname">gbm</td><td>Pointer to the external object </td></tr>
    <tr><td class="paramname">usage</td><td>The union of the usage flags for this buffer</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>A newly allocated buffer object that should be freed with <a class="el" href="gbm_8c.html#a6a2b975ce5ce5c5f55220c2c2e423ee6" title="Destroys the given buffer object and frees all resources associated with it.">gbm_bo_destroy()</a> when no longer needed.</dd></dl>
<dl class="section see"><dt>See Also</dt><dd>enum <a class="el" href="gbm_8h.html#a008aff9baaf6efa68dfc159d00da63f8" title="Flags to indicate the intended use for the buffer - these are passed into gbm_bo_create().">gbm_bo_flags</a> for the list of usage flags </dd></dl>

<p>References <a class="el" href="structgbm__device.html#ac2d21c4c8e8de978fa7105b725fd8b45">gbm_device::bo_import</a>.</p>

</div>
</div>
<a class="anchor" id="a8433c1ee7f12310f943a735a6b939dad"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="gbmint_8h.html#a4742e239b75fdb5268ed2711c94cf622">GBM_EXPORT</a> <a class="elRef" doxygen="math.tag:../math/" href="../math/m__xform_8h.html#a8aa1a77d4a1470f10dcc93ed4564cb72">void</a> gbm_bo_set_user_data </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structgbm__bo.html">gbm_bo</a> *&#160;</td>
          <td class="paramname"><em>bo</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="elRef" doxygen="math.tag:../math/" href="../math/m__xform_8h.html#a8aa1a77d4a1470f10dcc93ed4564cb72">void</a> *&#160;</td>
          <td class="paramname"><em>data</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="elRef" doxygen="math.tag:../math/" href="../math/m__xform_8h.html#a8aa1a77d4a1470f10dcc93ed4564cb72">void</a>(*)(struct <a class="el" href="structgbm__bo.html">gbm_bo</a> *, <a class="elRef" doxygen="math.tag:../math/" href="../math/m__xform_8h.html#a8aa1a77d4a1470f10dcc93ed4564cb72">void</a> *)&#160;</td>
          <td class="paramname"><em>destroy_user_data</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Set the user data associated with a buffer object. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">bo</td><td>The buffer object </td></tr>
    <tr><td class="paramname">data</td><td>The data to associate to the buffer object </td></tr>
    <tr><td class="paramname">destroy_user_data</td><td>A callback (which may be NULL) that will be called prior to the buffer destruction </td></tr>
  </table>
  </dd>
</dl>

<p>References <a class="el" href="structgbm__bo.html#a99bd20e3b80c59bc0e2ecf620060e59e">gbm_bo::destroy_user_data</a>, and <a class="el" href="structgbm__bo.html#a46b53d0e32595d5b9ac1b88bb54016ce">gbm_bo::user_data</a>.</p>

</div>
</div>
<a class="anchor" id="a493394751bbf960b13fe4b7777c9ce0d"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="gbmint_8h.html#a4742e239b75fdb5268ed2711c94cf622">GBM_EXPORT</a> int gbm_bo_write </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structgbm__bo.html">gbm_bo</a> *&#160;</td>
          <td class="paramname"><em>bo</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="elRef" doxygen="math.tag:../math/" href="../math/m__xform_8h.html#a8aa1a77d4a1470f10dcc93ed4564cb72">void</a> *&#160;</td>
          <td class="paramname"><em>buf</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">size_t&#160;</td>
          <td class="paramname"><em>count</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Write data into the buffer object. </p>
<p>If the buffer object was created with the GBM_BO_USE_WRITE flag, this function can used to write data into the buffer object. The data is copied directly into the object and it's the responsiblity of the caller to make sure the data represents valid pixel data, according to the width, height, stride and format of the buffer object.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">bo</td><td>The buffer object </td></tr>
    <tr><td class="paramname">buf</td><td>The data to write </td></tr>
    <tr><td class="paramname">count</td><td>The number of bytes to write </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>Returns -1 on error, 0 otherwise </dd></dl>

<p>References <a class="el" href="structgbm__device.html#a3aa6fba892d35b34e4a61d8baf3c3b42">gbm_device::bo_write</a>, and <a class="el" href="structgbm__bo.html#ac825743a687c3a69a91377da0012aa0c">gbm_bo::gbm</a>.</p>

</div>
</div>
<a class="anchor" id="ad867861b556f0e7bc6b1b1571997592c"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="gbmint_8h.html#a4742e239b75fdb5268ed2711c94cf622">GBM_EXPORT</a> struct <a class="el" href="structgbm__device.html">gbm_device</a>* gbm_create_device </td>
          <td>(</td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>fd</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">read</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Create a gbm device for allocating buffers. </p>
<p>The file descriptor passed in is used by the backend to communicate with platform for allocating the memory. For allocations using DRI this would be the file descriptor returned when opening a device such as <code>/dev/dri/card0</code> </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">fd</td><td>The file descriptor for an backend specific device </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>The newly created struct <a class="el" href="structgbm__device.html" title="The device used for the memory allocation.">gbm_device</a>. The resources associated with the device should be freed with <a class="el" href="gbm_8c.html#af6a7bffb9b18ba6f75221fe6d0fa0180" title="Destroy the gbm device and free all resources associated with it.">gbm_device_destroy()</a> when it is no longer needed. If the creation of the device failed NULL will be returned. </dd></dl>

<p>References <a class="el" href="backend_8c.html#a87bb08c3795f71183baa49acb3c5a9d6">_gbm_create_device()</a>, <a class="el" href="gbm_8c.html#a25f003de16c08a4888b69f619d70f427">ARRAY_SIZE</a>, <a class="el" href="gbm_8c.html#abbbec5e6379740a1834830e8135599a4">device_num</a>, <a class="el" href="structgbm__device.html#a4e758793532f4b694069291166e7ce70">gbm_device::dummy</a>, <a class="el" href="gbm_8c.html#ad867861b556f0e7bc6b1b1571997592c">gbm_create_device()</a>, <a class="elRef" doxygen="main.tag:../core/" href="../core/compiler_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>, <a class="el" href="structgbm__device.html#a381d61056df4da0ae4dcf684e17f81f4">gbm_device::refcount</a>, and <a class="el" href="structgbm__device.html#af01b9c13c5ec9986ed103d2e0a121fc6">gbm_device::stat</a>.</p>

<p>Referenced by <a class="el" href="gbm_8h.html#ae1d43ff91b088cc857deb7c2b4a0c969">gbm_create_device()</a>.</p>

<p><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="gbm_8c_ad867861b556f0e7bc6b1b1571997592c_cgraph.png" border="0" usemap="#gbm_8c_ad867861b556f0e7bc6b1b1571997592c_cgraph" alt=""/></div>
<map name="gbm_8c_ad867861b556f0e7bc6b1b1571997592c_cgraph" id="gbm_8c_ad867861b556f0e7bc6b1b1571997592c_cgraph">
<area shape="rect" id="node3" href="backend_8c.html#a87bb08c3795f71183baa49acb3c5a9d6" title="_gbm_create_device" alt="" coords="190,31,333,57"/><area shape="rect" id="node5" href="backend_8c.html#ad9177a9bafcdbc7430b0204498df2582" title="find_backend" alt="" coords="384,5,483,32"/><area shape="rect" id="node7" href="backend_8c.html#a76fe5af4320f1ba8c9b5fc200a6c4855" title="load_backend" alt="" coords="382,56,485,83"/></map>
</div>
</p>

</div>
</div>
<a class="anchor" id="af6a7bffb9b18ba6f75221fe6d0fa0180"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="gbmint_8h.html#a4742e239b75fdb5268ed2711c94cf622">GBM_EXPORT</a> <a class="elRef" doxygen="math.tag:../math/" href="../math/m__xform_8h.html#a8aa1a77d4a1470f10dcc93ed4564cb72">void</a> gbm_device_destroy </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structgbm__device.html">gbm_device</a> *&#160;</td>
          <td class="paramname"><em>gbm</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Destroy the gbm device and free all resources associated with it. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">gbm</td><td>The device created using <a class="el" href="gbm_8c.html#ad867861b556f0e7bc6b1b1571997592c" title="Create a gbm device for allocating buffers.">gbm_create_device()</a> </td></tr>
  </table>
  </dd>
</dl>

<p>References <a class="el" href="structgbm__device.html#ac1df1a729f480e280bd2f0e4f977f458">gbm_device::destroy</a>, and <a class="el" href="structgbm__device.html#a381d61056df4da0ae4dcf684e17f81f4">gbm_device::refcount</a>.</p>

</div>
</div>
<a class="anchor" id="ad9050e15ff4931a0606ed2869a17add6"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="gbmint_8h.html#a4742e239b75fdb5268ed2711c94cf622">GBM_EXPORT</a> const char* gbm_device_get_backend_name </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structgbm__device.html">gbm_device</a> *&#160;</td>
          <td class="paramname"><em>gbm</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Get the backend name for the given gbm device. </p>
<dl class="section return"><dt>Returns</dt><dd>The backend name string - this belongs to the device and must not be freed </dd></dl>

<p>References <a class="el" href="structgbm__device.html#a8b7bcf58a391c77cc3a96a3f570a3e82">gbm_device::name</a>.</p>

</div>
</div>
<a class="anchor" id="acd849ed84af2dc0acebc4bf0383c0d02"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="gbmint_8h.html#a4742e239b75fdb5268ed2711c94cf622">GBM_EXPORT</a> int gbm_device_get_fd </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structgbm__device.html">gbm_device</a> *&#160;</td>
          <td class="paramname"><em>gbm</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Returns the file description for the gbm device. </p>
<dl class="section return"><dt>Returns</dt><dd>The fd that the struct <a class="el" href="structgbm__device.html" title="The device used for the memory allocation.">gbm_device</a> was created with </dd></dl>

<p>References <a class="el" href="structgbm__device.html#a7b157435e80a010ed417fa6a28ddd4fb">gbm_device::fd</a>.</p>

</div>
</div>
<a class="anchor" id="a7ff3c1afb2e53325435bfec201f6296f"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int gbm_device_is_format_supported </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structgbm__device.html">gbm_device</a> *&#160;</td>
          <td class="paramname"><em>gbm</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint32_t&#160;</td>
          <td class="paramname"><em>format</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint32_t&#160;</td>
          <td class="paramname"><em>usage</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Test if a format is supported for a given set of usage flags. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">gbm</td><td>The created buffer manager </td></tr>
    <tr><td class="paramname">format</td><td>The format to test </td></tr>
    <tr><td class="paramname">usage</td><td>A bitmask of the usages to test the format against </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>1 if the format is supported otherwise 0</dd></dl>
<dl class="section see"><dt>See Also</dt><dd>enum <a class="el" href="gbm_8h.html#a008aff9baaf6efa68dfc159d00da63f8" title="Flags to indicate the intended use for the buffer - these are passed into gbm_bo_create().">gbm_bo_flags</a> for the list of flags that the format can be tested against</dd>
<dd>
enum <a class="el" href="gbm_8h.html#af49ee0cd07aaeddacd69caac78b5197f" title="Format of the allocated buffer.">gbm_bo_format</a> for the list of <a class="elRef" doxygen="main.tag:../core/" href="../core/texcompress__cpal_8c.html#ad214df4f9fd4e22dade7ac2ea082b4e2">formats</a> </dd></dl>

<p>References <a class="el" href="structgbm__device.html#a5b7f0c964618437f624d29bdf1d7f2a2">gbm_device::is_format_supported</a>.</p>

</div>
</div>
<a class="anchor" id="a7ca3a2f6f068d0ba6572494c38d4449c"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="gbmint_8h.html#a4742e239b75fdb5268ed2711c94cf622">GBM_EXPORT</a> struct <a class="el" href="structgbm__surface.html">gbm_surface</a>* gbm_surface_create </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structgbm__device.html">gbm_device</a> *&#160;</td>
          <td class="paramname"><em>gbm</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint32_t&#160;</td>
          <td class="paramname"><em>width</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint32_t&#160;</td>
          <td class="paramname"><em>height</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint32_t&#160;</td>
          <td class="paramname"><em>format</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint32_t&#160;</td>
          <td class="paramname"><em>flags</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">read</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Allocate a surface object. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">gbm</td><td>The gbm device returned from <a class="el" href="gbm_8c.html#ad867861b556f0e7bc6b1b1571997592c" title="Create a gbm device for allocating buffers.">gbm_create_device()</a> </td></tr>
    <tr><td class="paramname">width</td><td>The width for the surface </td></tr>
    <tr><td class="paramname">height</td><td>The height for the surface </td></tr>
    <tr><td class="paramname">format</td><td>The format to use for the surface</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>A newly allocated surface that should be freed with <a class="el" href="gbm_8c.html#a3b2266daa54df2ed5f11f437df8e2cea" title="Destroys the given surface and frees all resources associated with it.">gbm_surface_destroy()</a> when no longer needed. If an error occurs during allocation NULL will be returned.</dd></dl>
<dl class="section see"><dt>See Also</dt><dd>enum <a class="el" href="gbm_8h.html#af49ee0cd07aaeddacd69caac78b5197f" title="Format of the allocated buffer.">gbm_bo_format</a> for the list of <a class="elRef" doxygen="main.tag:../core/" href="../core/texcompress__cpal_8c.html#ad214df4f9fd4e22dade7ac2ea082b4e2">formats</a> </dd></dl>

<p>References <a class="el" href="structgbm__device.html#ac82b7bf17dd7adc0319bc7ccdb85b7f5">gbm_device::surface_create</a>.</p>

</div>
</div>
<a class="anchor" id="a3b2266daa54df2ed5f11f437df8e2cea"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="gbmint_8h.html#a4742e239b75fdb5268ed2711c94cf622">GBM_EXPORT</a> <a class="elRef" doxygen="math.tag:../math/" href="../math/m__xform_8h.html#a8aa1a77d4a1470f10dcc93ed4564cb72">void</a> gbm_surface_destroy </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structgbm__surface.html">gbm_surface</a> *&#160;</td>
          <td class="paramname"><em>surf</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Destroys the given surface and frees all resources associated with it. </p>
<p>All buffers locked with <a class="el" href="gbm_8c.html#a676013055c8e27312090ebf114609ccf" title="Lock the surface&#39;s current front buffer.">gbm_surface_lock_front_buffer()</a> should be released prior to calling this function.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">surf</td><td>The surface </td></tr>
  </table>
  </dd>
</dl>

<p>References <a class="el" href="structgbm__surface.html#abd47d4a5f778c4217be5e557739b1f57">gbm_surface::gbm</a>, and <a class="el" href="structgbm__device.html#a5e245c755c934c34baf01e261e0d9339">gbm_device::surface_destroy</a>.</p>

</div>
</div>
<a class="anchor" id="a178b564fa7dd55db7a13fa3eb589e77f"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="gbmint_8h.html#a4742e239b75fdb5268ed2711c94cf622">GBM_EXPORT</a> int gbm_surface_has_free_buffers </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structgbm__surface.html">gbm_surface</a> *&#160;</td>
          <td class="paramname"><em>surf</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Return whether or not a surface has free (non-locked) buffers. </p>
<p>Before starting a new frame, the surface must have a buffer available for rendering. Initially, a gbm surface will have a free buffer, but after one of more buffers have been locked (</p>
<dl class="section see"><dt>See Also</dt><dd><a class="el" href="gbm_8c.html#a676013055c8e27312090ebf114609ccf" title="Lock the surface&#39;s current front buffer.">gbm_surface_lock_front_buffer()</a>), the application must check for a free buffer before rendering.</dd></dl>
<p>If a surface doesn't have a free buffer, the application must return a buffer to the surface using <a class="el" href="gbm_8c.html#a02e4d09e3a9f645706777fff3a33d81a" title="Release a locked buffer obtained with gbm_surface_lock_front_buffer()">gbm_surface_release_buffer()</a> and after that, the application can query for free buffers again.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">surf</td><td>The surface </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>1 if the surface has free buffers, 0 otherwise </dd></dl>

<p>References <a class="el" href="structgbm__surface.html#abd47d4a5f778c4217be5e557739b1f57">gbm_surface::gbm</a>, and <a class="el" href="structgbm__device.html#a397effaccebe2549081c87a7f245f490">gbm_device::surface_has_free_buffers</a>.</p>

</div>
</div>
<a class="anchor" id="a676013055c8e27312090ebf114609ccf"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="gbmint_8h.html#a4742e239b75fdb5268ed2711c94cf622">GBM_EXPORT</a> struct <a class="el" href="structgbm__bo.html">gbm_bo</a>* gbm_surface_lock_front_buffer </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structgbm__surface.html">gbm_surface</a> *&#160;</td>
          <td class="paramname"><em>surf</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">read</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Lock the surface's current front buffer. </p>
<p>Lock rendering to the surface's current front buffer until it is released with <a class="el" href="gbm_8c.html#a02e4d09e3a9f645706777fff3a33d81a" title="Release a locked buffer obtained with gbm_surface_lock_front_buffer()">gbm_surface_release_buffer()</a>.</p>
<p>This function must be called exactly once after calling eglSwapBuffers. Calling it before any eglSwapBuffer has happened on the surface or two or more times after eglSwapBuffers is an error. A new bo representing the new front buffer is returned. On multiple invocations, all the returned bos must be released in order to release the actual surface buffer.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">surf</td><td>The surface</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>A buffer object that should be released with <a class="el" href="gbm_8c.html#a02e4d09e3a9f645706777fff3a33d81a" title="Release a locked buffer obtained with gbm_surface_lock_front_buffer()">gbm_surface_release_buffer()</a> when no longer needed. The implementation is free to reuse buffers released with <a class="el" href="gbm_8c.html#a02e4d09e3a9f645706777fff3a33d81a" title="Release a locked buffer obtained with gbm_surface_lock_front_buffer()">gbm_surface_release_buffer()</a> so this bo should not be destroyed using <a class="el" href="gbm_8c.html#a6a2b975ce5ce5c5f55220c2c2e423ee6" title="Destroys the given buffer object and frees all resources associated with it.">gbm_bo_destroy()</a>. If an error occurs this function returns NULL. </dd></dl>

<p>References <a class="el" href="structgbm__surface.html#abd47d4a5f778c4217be5e557739b1f57">gbm_surface::gbm</a>, and <a class="el" href="structgbm__device.html#af20d4e34800f254ba4a6e999c86fbc4f">gbm_device::surface_lock_front_buffer</a>.</p>

</div>
</div>
<a class="anchor" id="a02e4d09e3a9f645706777fff3a33d81a"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="gbmint_8h.html#a4742e239b75fdb5268ed2711c94cf622">GBM_EXPORT</a> <a class="elRef" doxygen="math.tag:../math/" href="../math/m__xform_8h.html#a8aa1a77d4a1470f10dcc93ed4564cb72">void</a> gbm_surface_release_buffer </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structgbm__surface.html">gbm_surface</a> *&#160;</td>
          <td class="paramname"><em>surf</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structgbm__bo.html">gbm_bo</a> *&#160;</td>
          <td class="paramname"><em>bo</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Release a locked buffer obtained with <a class="el" href="gbm_8c.html#a676013055c8e27312090ebf114609ccf" title="Lock the surface&#39;s current front buffer.">gbm_surface_lock_front_buffer()</a> </p>
<p>Returns the underlying buffer to the gbm surface. Releasing a bo will typically make gbm_surface_has_free_buffer() return 1 and thus allow rendering the next frame, but not always. The implementation may choose to destroy the bo immediately or reuse it, in which case the user data associated with it is unchanged.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">surf</td><td>The surface </td></tr>
    <tr><td class="paramname">bo</td><td>The buffer object </td></tr>
  </table>
  </dd>
</dl>

<p>References <a class="el" href="structgbm__surface.html#abd47d4a5f778c4217be5e557739b1f57">gbm_surface::gbm</a>, and <a class="el" href="structgbm__device.html#aa75b2e82eef8d1ec83e49635def55fb1">gbm_device::surface_release_buffer</a>.</p>

</div>
</div>
<h2 class="groupheader">Variable Documentation</h2>
<a class="anchor" id="abbbec5e6379740a1834830e8135599a4"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">int device_num = 0</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Referenced by <a class="el" href="gbmint_8h.html#a22930788341b6f7e1a797351c7063451">_gbm_mesa_get_device()</a>, and <a class="el" href="gbm_8h.html#ae1d43ff91b088cc857deb7c2b4a0c969">gbm_create_device()</a>.</p>

</div>
</div>
<a class="anchor" id="abeb541d075617cb3497feeb975938221"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">struct <a class="el" href="structgbm__device.html">gbm_device</a>* devices[16]</td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.3.1
</small></address>
</body>
</html>
