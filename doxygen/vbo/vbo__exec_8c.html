<html>
<head>
<title>Mesa Source Code Documentation</title>
<link href="doxygen.css" rel="stylesheet" type="text/css">
</head>
<body>
<div class="qindex">
<a class="qindex" href="../main/index.html">core</a> |
<a class="qindex" href="../glapi/index.html">glapi</a> |
<a class="qindex" href="../glsl/index.html">glsl</a> |
<a class="qindex" href="../vbo/index.html">vbo</a> |
<a class="qindex" href="../math/index.html">math</a> |
<a class="qindex" href="../shader/index.html">shader</a> |
<a class="qindex" href="../swrast/index.html">swrast</a> |
<a class="qindex" href="../swrast_setup/index.html">swrast_setup</a> |
<a class="qindex" href="../tnl/index.html">tnl</a> |
<a class="qindex" href="../tnl_dd/index.html">tnl_dd</a> |
<a class="qindex" href="../gbm/index.html">gbm</a>
</div>
<!-- Generated by Doxygen 1.8.3.1 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li><a href="annotated.html"><span>Data&#160;Structures</span></a></li>
      <li class="current"><a href="files.html"><span>Files</span></a></li>
      <li>
        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.png" alt=""/></a>
          </span>
        </div>
      </li>
    </ul>
  </div>
  <div id="navrow2" class="tabs2">
    <ul class="tablist">
      <li><a href="files.html"><span>File&#160;List</span></a></li>
      <li><a href="globals.html"><span>Globals</span></a></li>
    </ul>
  </div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
<a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(0)"><span class="SelectionMark">&#160;</span>All</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(1)"><span class="SelectionMark">&#160;</span>Data Structures</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(2)"><span class="SelectionMark">&#160;</span>Files</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(3)"><span class="SelectionMark">&#160;</span>Functions</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(4)"><span class="SelectionMark">&#160;</span>Variables</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(5)"><span class="SelectionMark">&#160;</span>Typedefs</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(6)"><span class="SelectionMark">&#160;</span>Enumerations</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(7)"><span class="SelectionMark">&#160;</span>Enumerator</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(8)"><span class="SelectionMark">&#160;</span>Macros</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(9)"><span class="SelectionMark">&#160;</span>Groups</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(10)"><span class="SelectionMark">&#160;</span>Pages</a></div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><a class="el" href="dir_68267d1309a1af8e8297ef4c3efbcdba.html">src</a></li><li class="navelem"><a class="el" href="dir_9172db528ee902c60f00bbddd6d6be2b.html">mesa</a></li><li class="navelem"><a class="el" href="dir_fd795c7049ce725e69379261df409681.html">vbo</a></li>  </ul>
</div>
</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#func-members">Functions</a>  </div>
  <div class="headertitle">
<div class="title">vbo_exec.c File Reference</div>  </div>
</div><!--header-->
<div class="contents">
<div class="textblock"><code>#include &quot;<a class="elRef" doxygen="main.tag:../core/" href="../core/api__arrayelt_8h.html">main/api_arrayelt.h</a>&quot;</code><br/>
<code>#include &quot;<a class="elRef" doxygen="main.tag:../core/" href="../core/glheader_8h.html">main/glheader.h</a>&quot;</code><br/>
<code>#include &quot;<a class="elRef" doxygen="main.tag:../core/" href="../core/mtypes_8h.html">main/mtypes.h</a>&quot;</code><br/>
<code>#include &quot;<a class="elRef" doxygen="main.tag:../core/" href="../core/vtxfmt_8h.html">main/vtxfmt.h</a>&quot;</code><br/>
<code>#include &quot;<a class="el" href="vbo__context_8h.html">vbo_context.h</a>&quot;</code><br/>
</div><div class="textblock"><div class="dynheader">
Include dependency graph for vbo_exec.c:</div>
<div class="dyncontent">
<div class="center"><img src="vbo__exec_8c__incl.png" border="0" usemap="#vbo__exec_8c" alt=""/></div>
<map name="vbo__exec_8c" id="vbo__exec_8c">
<area shape="rect" id="node3" doxygen="main.tag:../core/" href="../core/api__arrayelt_8h.html" title="main/api_arrayelt.h" alt="" coords="135,80,266,107"/><area shape="rect" id="node5" doxygen="main.tag:../core/" href="../core/mtypes_8h.html" title="main/mtypes.h" alt="" coords="245,229,353,256"/><area shape="rect" id="node7" doxygen="main.tag:../core/" href="../core/glheader_8h.html" title="main/glheader.h" alt="" coords="163,379,278,405"/><area shape="rect" id="node20" doxygen="main.tag:../core/" href="../core/vtxfmt_8h.html" title="main/vtxfmt.h" alt="" coords="291,80,393,107"/><area shape="rect" id="node25" href="vbo__context_8h.html" title="VBO builder module datatypes and definitions." alt="" coords="494,80,598,107"/><area shape="rect" id="node9" doxygen="main.tag:../core/" href="../core/config_8h.html" title="main/config.h" alt="" coords="299,304,398,331"/><area shape="rect" id="node11" doxygen="main.tag:../core/" href="../core/simple__list_8h.html" title="main/simple_list.h" alt="" coords="423,304,549,331"/><area shape="rect" id="node13" doxygen="main.tag:../core/" href="../core/formats_8h.html" title="main/formats.h" alt="" coords="43,304,153,331"/><area shape="rect" id="node15" doxygen="main.tag:../core/" href="../core/dd_8h.html" title="dd.h" alt="" coords="228,304,274,331"/><area shape="rect" id="node22" doxygen="main.tag:../core/" href="../core/compiler_8h.html" title="compiler.h" alt="" coords="230,155,313,181"/><area shape="rect" id="node27" href="vbo_8h.html" title="vbo.h" alt="" coords="536,229,590,256"/><area shape="rect" id="node32" href="vbo__attrib_8h.html" title="vbo_attrib.h" alt="" coords="615,229,706,256"/><area shape="rect" id="node34" href="vbo__exec_8h.html" title="vbo_exec.h" alt="" coords="388,155,477,181"/><area shape="rect" id="node39" href="vbo__save_8h.html" title="vbo_save.h" alt="" coords="501,155,590,181"/></map>
</div>
</div><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:ac9865faeb545e8b9143df71fc06f1be0"><td class="memItemLeft" align="right" valign="top"><a class="elRef" doxygen="math.tag:../math/" href="../math/m__xform_8h.html#a8aa1a77d4a1470f10dcc93ed4564cb72">void</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="vbo__exec_8c.html#ac9865faeb545e8b9143df71fc06f1be0">vbo_exec_init</a> (struct <a class="elRef" doxygen="main.tag:../core/" href="../core/structgl__context.html">gl_context</a> *ctx)</td></tr>
<tr class="separator:ac9865faeb545e8b9143df71fc06f1be0"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4a0ae0af3c30767ccbfb8d4a8124fc4f"><td class="memItemLeft" align="right" valign="top"><a class="elRef" doxygen="math.tag:../math/" href="../math/m__xform_8h.html#a8aa1a77d4a1470f10dcc93ed4564cb72">void</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="vbo__exec_8c.html#a4a0ae0af3c30767ccbfb8d4a8124fc4f">vbo_exec_destroy</a> (struct <a class="elRef" doxygen="main.tag:../core/" href="../core/structgl__context.html">gl_context</a> *ctx)</td></tr>
<tr class="separator:a4a0ae0af3c30767ccbfb8d4a8124fc4f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a97ec1c55baf3ef5e19a2d7303260299e"><td class="memItemLeft" align="right" valign="top"><a class="elRef" doxygen="math.tag:../math/" href="../math/m__xform_8h.html#a8aa1a77d4a1470f10dcc93ed4564cb72">void</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="vbo__exec_8c.html#a97ec1c55baf3ef5e19a2d7303260299e">vbo_exec_invalidate_state</a> (struct <a class="elRef" doxygen="main.tag:../core/" href="../core/structgl__context.html">gl_context</a> *ctx, <a class="elRef" doxygen="main.tag:../core/" href="../core/dispatch_8h.html#a68c4714e43d8e827d80759f9cb864f3c">GLuint</a> new_state)</td></tr>
<tr class="memdesc:a97ec1c55baf3ef5e19a2d7303260299e"><td class="mdescLeft">&#160;</td><td class="mdescRight">Really want to install these callbacks to a central facility to be invoked according to the state flags.  <a href="#a97ec1c55baf3ef5e19a2d7303260299e">More...</a><br/></td></tr>
<tr class="separator:a97ec1c55baf3ef5e19a2d7303260299e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aab784295a0580c229203607be9163cff"><td class="memItemLeft" align="right" valign="top">size_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="vbo__exec_8c.html#aab784295a0580c229203607be9163cff">vbo_count_tessellated_primitives</a> (<a class="elRef" doxygen="main.tag:../core/" href="../core/dispatch_8h.html#a5d5233918a454ad3975c620a69ac5f0b">GLenum</a> mode, <a class="elRef" doxygen="main.tag:../core/" href="../core/dispatch_8h.html#a68c4714e43d8e827d80759f9cb864f3c">GLuint</a> count, <a class="elRef" doxygen="main.tag:../core/" href="../core/dispatch_8h.html#a68c4714e43d8e827d80759f9cb864f3c">GLuint</a> num_instances)</td></tr>
<tr class="memdesc:aab784295a0580c229203607be9163cff"><td class="mdescLeft">&#160;</td><td class="mdescRight">Figure out the number of transform feedback primitives that will be output considering the drawing mode, number of vertices, and instance count, assuming that no geometry shading is done and primitive restart is not used.  <a href="#aab784295a0580c229203607be9163cff">More...</a><br/></td></tr>
<tr class="separator:aab784295a0580c229203607be9163cff"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:addb8a1c2d5d7fe7841f4bdebe6fba421"><td class="memItemLeft" align="right" valign="top"><a class="elRef" doxygen="math.tag:../math/" href="../math/m__xform_8h.html#a8aa1a77d4a1470f10dcc93ed4564cb72">void</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="vbo__exec_8c.html#addb8a1c2d5d7fe7841f4bdebe6fba421">vbo_try_prim_conversion</a> (struct <a class="el" href="struct__mesa__prim.html">_mesa_prim</a> *p)</td></tr>
<tr class="memdesc:addb8a1c2d5d7fe7841f4bdebe6fba421"><td class="mdescLeft">&#160;</td><td class="mdescRight">In some degenarate cases we can improve our ability to merge consecutive primitives.  <a href="#addb8a1c2d5d7fe7841f4bdebe6fba421">More...</a><br/></td></tr>
<tr class="separator:addb8a1c2d5d7fe7841f4bdebe6fba421"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a325466a9eb647c7863a670deb7d6d607"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="vbo__exec_8c.html#a325466a9eb647c7863a670deb7d6d607">vbo_can_merge_prims</a> (const struct <a class="el" href="struct__mesa__prim.html">_mesa_prim</a> *p0, const struct <a class="el" href="struct__mesa__prim.html">_mesa_prim</a> *p1)</td></tr>
<tr class="memdesc:a325466a9eb647c7863a670deb7d6d607"><td class="mdescLeft">&#160;</td><td class="mdescRight">Helper function for determining if two subsequent glBegin/glEnd primitives can be combined.  <a href="#a325466a9eb647c7863a670deb7d6d607">More...</a><br/></td></tr>
<tr class="separator:a325466a9eb647c7863a670deb7d6d607"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a45956dc25d15d16e8a9ef07c057d3f29"><td class="memItemLeft" align="right" valign="top"><a class="elRef" doxygen="math.tag:../math/" href="../math/m__xform_8h.html#a8aa1a77d4a1470f10dcc93ed4564cb72">void</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="vbo__exec_8c.html#a45956dc25d15d16e8a9ef07c057d3f29">vbo_merge_prims</a> (struct <a class="el" href="struct__mesa__prim.html">_mesa_prim</a> *p0, const struct <a class="el" href="struct__mesa__prim.html">_mesa_prim</a> *p1)</td></tr>
<tr class="memdesc:a45956dc25d15d16e8a9ef07c057d3f29"><td class="mdescLeft">&#160;</td><td class="mdescRight">If we've determined that p0 and p1 can be merged, this function concatenates p1 onto p0.  <a href="#a45956dc25d15d16e8a9ef07c057d3f29">More...</a><br/></td></tr>
<tr class="separator:a45956dc25d15d16e8a9ef07c057d3f29"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<h2 class="groupheader">Function Documentation</h2>
<a class="anchor" id="a325466a9eb647c7863a670deb7d6d607"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool vbo_can_merge_prims </td>
          <td>(</td>
          <td class="paramtype">const struct <a class="el" href="struct__mesa__prim.html">_mesa_prim</a> *&#160;</td>
          <td class="paramname"><em>p0</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const struct <a class="el" href="struct__mesa__prim.html">_mesa_prim</a> *&#160;</td>
          <td class="paramname"><em>p1</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Helper function for determining if two subsequent glBegin/glEnd primitives can be combined. </p>
<p>This is only possible for GL_POINTS, GL_LINES, GL_TRIANGLES and GL_QUADS. If we return true, it means that we can concatenate p1 onto p0 (and discard p1). </p>

<p>References <a class="el" href="struct__mesa__prim.html#a82fdb62974cf4e2fef9f9b43f58a05fd">_mesa_prim::base_instance</a>, <a class="el" href="struct__mesa__prim.html#a74d8b8049b099ff69e655cdf16e80bdc">_mesa_prim::basevertex</a>, <a class="el" href="struct__mesa__prim.html#a3ac4803ac4ef79f48797aa80db30aa14">_mesa_prim::begin</a>, <a class="el" href="struct__mesa__prim.html#a686f813c941985fa8c93816db9339d04">_mesa_prim::count</a>, <a class="el" href="struct__mesa__prim.html#a96e9496d3fb7fda2247dea827109cd06">_mesa_prim::end</a>, <a class="el" href="struct__mesa__prim.html#aabdd6cc399a4b144bc626b4633e326e0">_mesa_prim::mode</a>, <a class="el" href="struct__mesa__prim.html#a848e2bdc607dbc3c42fdda6731933663">_mesa_prim::num_instances</a>, and <a class="el" href="struct__mesa__prim.html#ac56d021e2a50d7265b412103501faf9e">_mesa_prim::start</a>.</p>

<p>Referenced by <a class="el" href="vbo__save__api_8c.html#a1375d9aa39fa3570c66db217a0fc3c39">merge_prims()</a>, <a class="el" href="vbo__exec__api_8c.html#a49dd4b62f970dcfc2f6b4403b8182b2f">try_vbo_merge()</a>, and <a class="el" href="vbo__exec_8c.html#a45956dc25d15d16e8a9ef07c057d3f29">vbo_merge_prims()</a>.</p>

</div>
</div>
<a class="anchor" id="aab784295a0580c229203607be9163cff"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">size_t vbo_count_tessellated_primitives </td>
          <td>(</td>
          <td class="paramtype"><a class="elRef" doxygen="main.tag:../core/" href="../core/dispatch_8h.html#a5d5233918a454ad3975c620a69ac5f0b">GLenum</a>&#160;</td>
          <td class="paramname"><em>mode</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="elRef" doxygen="main.tag:../core/" href="../core/dispatch_8h.html#a68c4714e43d8e827d80759f9cb864f3c">GLuint</a>&#160;</td>
          <td class="paramname"><em>count</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="elRef" doxygen="main.tag:../core/" href="../core/dispatch_8h.html#a68c4714e43d8e827d80759f9cb864f3c">GLuint</a>&#160;</td>
          <td class="paramname"><em>num_instances</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Figure out the number of transform feedback primitives that will be output considering the drawing mode, number of vertices, and instance count, assuming that no geometry shading is done and primitive restart is not used. </p>
<p>This is used by driver back-ends in implementing the PRIMITIVES_GENERATED and TRANSFORM_FEEDBACK_PRIMITIVES_WRITTEN queries. It is also used to pre-validate draw calls in GLES3 (where draw calls only succeed if there is enough room in the transform feedback buffer for the result). </p>

</div>
</div>
<a class="anchor" id="a4a0ae0af3c30767ccbfb8d4a8124fc4f"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="elRef" doxygen="math.tag:../math/" href="../math/m__xform_8h.html#a8aa1a77d4a1470f10dcc93ed4564cb72">void</a> vbo_exec_destroy </td>
          <td>(</td>
          <td class="paramtype">struct <a class="elRef" doxygen="main.tag:../core/" href="../core/structgl__context.html">gl_context</a> *&#160;</td>
          <td class="paramname"><em>ctx</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>References <a class="elRef" doxygen="main.tag:../core/" href="../core/api__arrayelt_8c.html#aecb8968edf2d62c0ec70b7bf078ca522">_ae_destroy_context()</a>, <a class="elRef" doxygen="main.tag:../core/" href="../core/structgl__context.html#aba1bd701a6569061a6d9847f2186ae78">gl_context::aelt_context</a>, <a class="el" href="structvbo__context.html#ab36e8bb6b5f3d2f78d10a158ea3620f4">vbo_context::exec</a>, <a class="elRef" doxygen="main.tag:../core/" href="../core/compiler_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>, <a class="el" href="vbo__context_8h.html#ad2565177b844c6d6807efd2db35f18b9">vbo_context()</a>, and <a class="el" href="vbo__exec_8h.html#a17b509d8818c90e3237ec3099c421e88">vbo_exec_vtx_destroy()</a>.</p>

<p>Referenced by <a class="el" href="vbo__context_8c.html#adf63eb313740d40ef8e2f35d3578f1fc">_vbo_DestroyContext()</a>.</p>

<p><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="vbo__exec_8c_a4a0ae0af3c30767ccbfb8d4a8124fc4f_cgraph.png" border="0" usemap="#vbo__exec_8c_a4a0ae0af3c30767ccbfb8d4a8124fc4f_cgraph" alt=""/></div>
<map name="vbo__exec_8c_a4a0ae0af3c30767ccbfb8d4a8124fc4f_cgraph" id="vbo__exec_8c_a4a0ae0af3c30767ccbfb8d4a8124fc4f_cgraph">
<area shape="rect" id="node3" doxygen="main.tag:../core/" href="../core/api__arrayelt_8c.html#aecb8968edf2d62c0ec70b7bf078ca522" title="_ae_destroy_context" alt="" coords="187,5,330,32"/><area shape="rect" id="node5" href="vbo__context_8h.html#ad2565177b844c6d6807efd2db35f18b9" title="vbo_context" alt="" coords="212,56,305,83"/><area shape="rect" id="node7" href="vbo__exec_8h.html#a17b509d8818c90e3237ec3099c421e88" title="vbo_exec_vtx_destroy" alt="" coords="182,107,335,133"/><area shape="rect" id="node9" doxygen="main.tag:../core/" href="../core/imports_8c.html#abdb17f722da04091adffe547f2f45485" title="_mesa_align_free" alt="" coords="385,107,509,133"/></map>
</div>
</p>

</div>
</div>
<a class="anchor" id="ac9865faeb545e8b9143df71fc06f1be0"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="elRef" doxygen="math.tag:../math/" href="../math/m__xform_8h.html#a8aa1a77d4a1470f10dcc93ed4564cb72">void</a> vbo_exec_init </td>
          <td>(</td>
          <td class="paramtype">struct <a class="elRef" doxygen="main.tag:../core/" href="../core/structgl__context.html">gl_context</a> *&#160;</td>
          <td class="paramname"><em>ctx</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>References <a class="elRef" doxygen="main.tag:../core/" href="../core/api__arrayelt_8c.html#a1afc8450a1d3b7b4cd9b1e89bc6463d1">_ae_create_context()</a>, <a class="elRef" doxygen="main.tag:../core/" href="../core/structgl__context.html#aba1bd701a6569061a6d9847f2186ae78">gl_context::aelt_context</a>, <a class="elRef" doxygen="main.tag:../core/" href="../core/structdd__function__table.html#a0f9627beef0315a4f5da2c12907cd070">dd_function_table::BeginVertices</a>, <a class="el" href="structvbo__exec__context.html#ac3d83dbb8609c7eb38db5cd3e410c231">vbo_exec_context::ctx</a>, <a class="elRef" doxygen="main.tag:../core/" href="../core/structdd__function__table.html#aa5cd1d1d6f24c6dc8cfd143e299963f5">dd_function_table::CurrentExecPrimitive</a>, <a class="elRef" doxygen="main.tag:../core/" href="../core/structgl__context.html#ab3a40dffd6176c154014e6ed457da31e">gl_context::Driver</a>, <a class="el" href="structvbo__context.html#ab36e8bb6b5f3d2f78d10a158ea3620f4">vbo_context::exec</a>, <a class="elRef" doxygen="main.tag:../core/" href="../core/structdd__function__table.html#ab48ab30dc9a62bf37d7519caab6b73a8">dd_function_table::FlushVertices</a>, <a class="elRef" doxygen="main.tag:../core/" href="../core/structdd__function__table.html#aab697f6ab9ecbd3443f46a3062bd8c52">dd_function_table::NeedFlush</a>, <a class="elRef" doxygen="main.tag:../core/" href="../core/mtypes_8h.html#ab5bbc742d880e2dc15eb3241cdfea74e">PRIM_OUTSIDE_BEGIN_END</a>, <a class="el" href="vbo__context_8h.html#ad2565177b844c6d6807efd2db35f18b9">vbo_context()</a>, <a class="el" href="vbo__exec_8h.html#a53a5cafda8f801ba3f044a0e981a716f">vbo_exec_BeginVertices()</a>, <a class="el" href="vbo__exec_8h.html#aaf357194707fc48d231be7c660c8345c">vbo_exec_FlushVertices()</a>, <a class="el" href="vbo__exec_8c.html#a97ec1c55baf3ef5e19a2d7303260299e">vbo_exec_invalidate_state()</a>, and <a class="el" href="vbo__exec_8h.html#af18f9ca7c7acab671be46f168f2d7256">vbo_exec_vtx_init()</a>.</p>

<p>Referenced by <a class="el" href="vbo__context_8c.html#a8ab85d0d3bb1319c75ffaf82e47a72fa">_vbo_CreateContext()</a>.</p>

<p><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="vbo__exec_8c_ac9865faeb545e8b9143df71fc06f1be0_cgraph.png" border="0" usemap="#vbo__exec_8c_ac9865faeb545e8b9143df71fc06f1be0_cgraph" alt=""/></div>
<map name="vbo__exec_8c_ac9865faeb545e8b9143df71fc06f1be0_cgraph" id="vbo__exec_8c_ac9865faeb545e8b9143df71fc06f1be0_cgraph">
<area shape="rect" id="node3" doxygen="main.tag:../core/" href="../core/api__arrayelt_8c.html#a1afc8450a1d3b7b4cd9b1e89bc6463d1" title="_ae_create_context" alt="" coords="160,5,296,32"/><area shape="rect" id="node5" href="vbo__context_8h.html#ad2565177b844c6d6807efd2db35f18b9" title="vbo_context" alt="" coords="1499,360,1592,387"/><area shape="rect" id="node7" href="vbo__exec_8h.html#a53a5cafda8f801ba3f044a0e981a716f" title="Called upon first glVertex, glColor, glTexCoord, etc." alt="" coords="1257,107,1423,133"/><area shape="rect" id="node20" href="vbo__exec_8h.html#aaf357194707fc48d231be7c660c8345c" title="Called via ctx&#45;&gt;Driver.FlushVertices()" alt="" coords="824,157,989,184"/><area shape="rect" id="node34" href="vbo__exec_8c.html#a97ec1c55baf3ef5e19a2d7303260299e" title="Really want to install these callbacks to a central facility to be invoked according to the state fla..." alt="" coords="158,309,298,350"/><area shape="rect" id="node39" href="vbo__exec_8h.html#af18f9ca7c7acab671be46f168f2d7256" title="vbo_exec_vtx_init" alt="" coords="165,696,291,723"/><area shape="rect" id="node10" href="vbo__exec_8h.html#a5156ff396b59e14a648a32c712eeb7fe" title="Map the vertex buffer to begin storing glVertex, glColor, etc data." alt="" coords="1478,309,1613,336"/><area shape="rect" id="node12" doxygen="main.tag:../core/" href="../core/errors_8c.html#aeb37ff435d2815d8cb8e33013596dcb2" title="_mesa_error" alt="" coords="1703,613,1798,640"/><area shape="rect" id="node14" doxygen="main.tag:../core/" href="../core/vtxfmt_8c.html#ada919957d13ab359106779b35155dd64" title="_mesa_install_exec\l_vtxfmt" alt="" coords="1682,302,1819,343"/><area shape="rect" id="node16" href="vbo__noop_8c.html#aada96e4881ad5e498548f2b084b419a2" title="Is the given dispatch table using the no&#45;op functions?" alt="" coords="1661,465,1840,492"/><area shape="rect" id="node18" href="vbo__noop_8c.html#a42c4221fb3cb8f106ce9300f9208002c" title="_mesa_noop_Begin" alt="" coords="1888,996,2024,1023"/><area shape="rect" id="node23" href="vbo__exec__api_8c.html#a59df19afd3a180740794ecc0b0a8af19" title="Flush (draw) vertices." alt="" coords="1037,251,1203,293"/><area shape="rect" id="node25" href="vbo__exec_8h.html#a311f46a75f32516d98bbc596632687ad" title="Execute the buffer and save copied verts." alt="" coords="1271,309,1409,336"/><area shape="rect" id="node29" href="vbo__exec__api_8c.html#af21ae15c1b2e2a0cc6d4ce80092583cf" title="Copy the active vertex&#39;s values to the ctx&#45;&gt;Current fields." alt="" coords="1251,208,1429,235"/><area shape="rect" id="node32" href="vbo__exec__api_8c.html#ad72d9cdd52060408bf21bd7ba2029d2a" title="reset_attrfv" alt="" coords="1296,259,1384,285"/><area shape="rect" id="node37" doxygen="main.tag:../core/" href="../core/api__arrayelt_8c.html#a33c97885d5cbea90d878fd769a0fc7ee" title="_ae_invalidate_state" alt="" coords="359,367,500,393"/><area shape="rect" id="node42" doxygen="main.tag:../core/" href="../core/imports_8c.html#a4aeeec2342e0d371c407e6577a139db9" title="_mesa_align_malloc" alt="" coords="359,696,499,723"/><area shape="rect" id="node44" href="vbo__exec__api_8c.html#a6d33d774f790feedda8d2b5d5ab5eb20" title="vbo_exec_vtxfmt_init" alt="" coords="356,943,503,969"/><area shape="rect" id="node104" href="vbo__noop_8c.html#afbb00d8b301e2ca05c1630a59a28a256" title="Build a vertexformat of functions that are no&#45;ops." alt="" coords="347,1677,511,1704"/><area shape="rect" id="node46" doxygen="main.tag:../core/" href="../core/api__arrayelt_8c.html#a66a0b8e3b0f41571a3c52dec25e9cb9d" title="_ae_ArrayElement" alt="" coords="603,461,733,488"/><area shape="rect" id="node48" href="vbo__exec__api_8c.html#a88d85f664ba78f10161f6c6bc32ca743" title="Called via glBegin." alt="" coords="847,512,966,539"/><area shape="rect" id="node53" href="vbo__exec__api_8c.html#ad0fc3698ae48d0c6d236aaf34113c9c9" title="Called via glEnd." alt="" coords="1066,563,1174,589"/><area shape="rect" id="node58" href="vbo__exec__api_8c.html#ad6968f9a2f743b5b2daf4ad2963a239c" title="Called via glPrimitiveRestartNV()" alt="" coords="569,613,767,640"/><area shape="rect" id="node63" doxygen="main.tag:../core/" href="../core/dlist_8c.html#a511d88e464629389a5b1275726278f4f" title="_mesa_CallList" alt="" coords="612,1424,724,1451"/><area shape="rect" id="node65" doxygen="main.tag:../core/" href="../core/dlist_8c.html#a5f802094227c555d2157559a834b9d9b" title="_mesa_CallLists" alt="" coords="609,1475,727,1501"/><area shape="rect" id="node67" href="vbo__exec__api_8c.html#ae0765e984e438c29e6f6d16e9913d73b" title="vbo_exec_EvalCoord1f" alt="" coords="828,715,985,741"/><area shape="rect" id="node70" href="vbo__exec__api_8c.html#abf41a509afe48c9d56fd60bca6c61faf" title="vbo_exec_EvalCoord1fv" alt="" coords="586,715,750,741"/><area shape="rect" id="node73" href="vbo__exec__api_8c.html#a404be9b65aad375aeb07e679179124e6" title="vbo_exec_EvalCoord2f" alt="" coords="828,841,985,868"/><area shape="rect" id="node76" href="vbo__exec__api_8c.html#ab8269bb37f89613d3336e91996780667" title="vbo_exec_EvalCoord2fv" alt="" coords="586,867,750,893"/><area shape="rect" id="node79" href="vbo__exec__api_8c.html#a4ad2476bb88f13189fe1e59b2c10f188" title="vbo_exec_EvalPoint1" alt="" coords="594,765,742,792"/><area shape="rect" id="node82" href="vbo__exec__api_8c.html#ad67b17a6e35f9af2597e42245a553b9c" title="vbo_exec_EvalPoint2" alt="" coords="594,917,742,944"/><area shape="rect" id="node85" href="vbo_8h.html#a2870593e7d4468510256dca29583ca50" title="_es_VertexAttrib1f" alt="" coords="603,968,733,995"/><area shape="rect" id="node87" href="vbo_8h.html#a3abc2cb337150c6f18f9ceeaf55f638f" title="_es_VertexAttrib1fv" alt="" coords="599,1019,737,1045"/><area shape="rect" id="node89" href="vbo_8h.html#a8e292b9cd796bb68afa5799ebbd88b1d" title="_es_VertexAttrib2f" alt="" coords="603,1069,733,1096"/><area shape="rect" id="node91" href="vbo_8h.html#ad801eb581564bb014d7755fc76fe4022" title="_es_VertexAttrib2fv" alt="" coords="599,1120,737,1147"/><area shape="rect" id="node93" href="vbo_8h.html#a527abddd39f8aad3c6867642dbe5e1ce" title="_es_VertexAttrib3f" alt="" coords="603,1171,733,1197"/><area shape="rect" id="node95" href="vbo_8h.html#a371ecda9419ea728e3d46e970a1de4fb" title="_es_VertexAttrib3fv" alt="" coords="599,1221,737,1248"/><area shape="rect" id="node97" href="vbo_8h.html#abb4472f5ab9834208e8f53e7c3a3f7fd" title="_es_VertexAttrib4f" alt="" coords="603,1272,733,1299"/><area shape="rect" id="node99" href="vbo_8h.html#acc738e5a977270b19091d6040d435f38" title="_es_VertexAttrib4fv" alt="" coords="599,1323,737,1349"/><area shape="rect" id="node101" href="vbo__exec__api_8c.html#ab8cb5ce4ee0bc92647d870790dd1ef90" title="Execute a glMaterial call." alt="" coords="1067,1095,1173,1121"/><area shape="rect" id="node106" href="vbo__noop_8c.html#aade8f5853814bd084aa0f11f297b7b21" title="_mesa_noop_ArrayElement" alt="" coords="577,1576,759,1603"/><area shape="rect" id="node111" href="vbo__noop_8c.html#af77e3f044a2338086ac05c4fa676eb23" title="_mesa_noop_Color3f" alt="" coords="595,1627,741,1653"/><area shape="rect" id="node113" href="vbo__noop_8c.html#a2b159ba89389897091619cb1e2107f63" title="_mesa_noop_Color3fv" alt="" coords="592,1677,744,1704"/><area shape="rect" id="node115" href="vbo__noop_8c.html#abd5e6064e3b9488206af3a2584a7434d" title="_mesa_noop_Color4f" alt="" coords="595,1728,741,1755"/><area shape="rect" id="node117" href="vbo__noop_8c.html#af2c028fbd2a9260a1fd7af6f56effb1b" title="_mesa_noop_Color4fv" alt="" coords="592,1779,744,1805"/><area shape="rect" id="node119" href="vbo__noop_8c.html#ada82add74c07dae8572f47db2aff5d56" title="GLvertexformat no&#45;op functions." alt="" coords="589,1829,747,1856"/><area shape="rect" id="node121" href="vbo__noop_8c.html#aa3441ecb2b972a220fe6034871b32693" title="_mesa_noop_End" alt="" coords="605,1880,731,1907"/><area shape="rect" id="node123" href="vbo__noop_8c.html#aa9ae354ac43a69190805f391ee9c966c" title="_mesa_noop_PrimitiveRestartNV" alt="" coords="560,1931,776,1957"/><area shape="rect" id="node125" href="vbo__noop_8c.html#a49bf54c119403cf7af34d66f40b9a102" title="_mesa_noop_EvalCoord1f" alt="" coords="581,1981,755,2008"/></map>
</div>
</p>

</div>
</div>
<a class="anchor" id="a97ec1c55baf3ef5e19a2d7303260299e"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="elRef" doxygen="math.tag:../math/" href="../math/m__xform_8h.html#a8aa1a77d4a1470f10dcc93ed4564cb72">void</a> vbo_exec_invalidate_state </td>
          <td>(</td>
          <td class="paramtype">struct <a class="elRef" doxygen="main.tag:../core/" href="../core/structgl__context.html">gl_context</a> *&#160;</td>
          <td class="paramname"><em>ctx</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="elRef" doxygen="main.tag:../core/" href="../core/dispatch_8h.html#a68c4714e43d8e827d80759f9cb864f3c">GLuint</a>&#160;</td>
          <td class="paramname"><em>new_state</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Really want to install these callbacks to a central facility to be invoked according to the state flags. </p>
<p>That will have to wait for a mesa rework: </p>

<p>References <a class="elRef" doxygen="main.tag:../core/" href="../core/api__arrayelt_8c.html#a33c97885d5cbea90d878fd769a0fc7ee">_ae_invalidate_state()</a>, <a class="elRef" doxygen="main.tag:../core/" href="../core/structgl__array__attrib.html#a912db730d99fdb3de22a859d442b5435">gl_array_attrib::_DrawArrays</a>, <a class="elRef" doxygen="main.tag:../core/" href="../core/mtypes_8h.html#a1bd5703001e58e99d6e86538099e999a">_NEW_ARRAY</a>, <a class="elRef" doxygen="main.tag:../core/" href="../core/mtypes_8h.html#a8ddfadaebb04c26e785a45c203cee3d4">_NEW_EVAL</a>, <a class="elRef" doxygen="main.tag:../core/" href="../core/mtypes_8h.html#a2373f8c9e63cd351061619393ffb7b32">_NEW_PROGRAM</a>, <a class="elRef" doxygen="main.tag:../core/" href="../core/structgl__context.html#a7612fcdb4163ab4dca31937f78adb826">gl_context::Array</a>, <a class="el" href="structvbo__exec__context.html#a2bb4762a1731dc6474ba9db4080907e8">vbo_exec_context::array</a>, <a class="el" href="vbo__context_8h.html#a27e6976c1a131ed9bd67b40ac8264812a43a311707aa54e12169ff6bd52bc4c65">DRAW_ARRAYS</a>, <a class="el" href="vbo__context_8h.html#a27e6976c1a131ed9bd67b40ac8264812a5054727857c091ce5b33674fe144b23a">DRAW_NONE</a>, <a class="el" href="structvbo__exec__context.html#a40f8f4df2a143772209d40c22163845f">vbo_exec_context::eval</a>, <a class="el" href="structvbo__context.html#ab36e8bb6b5f3d2f78d10a158ea3620f4">vbo_context::exec</a>, <a class="el" href="structvbo__context.html#aa259e457b18dd338a8fd837ae5f9b71d">vbo_context::last_draw_method</a>, <a class="elRef" doxygen="main.tag:../core/" href="../core/compiler_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>, <a class="el" href="structvbo__exec__context.html#a6aa4688a8bb1c56044ac64a88dd8fa54">vbo_exec_context::recalculate_inputs</a>, <a class="el" href="structvbo__exec__context.html#a6232fdeecd263ada4b06c5464fe43f4f">vbo_exec_context::recalculate_maps</a>, <a class="el" href="structvbo__exec__context.html#ad896f840ee43feba2aca8e239d082d3d">vbo_exec_context::validating</a>, and <a class="el" href="vbo__context_8h.html#ad2565177b844c6d6807efd2db35f18b9">vbo_context()</a>.</p>

<p>Referenced by <a class="el" href="vbo__context_8c.html#a7189304a383ed7dadda1803e7c54d949">_vbo_InvalidateState()</a>, and <a class="el" href="vbo__exec_8h.html#ac9865faeb545e8b9143df71fc06f1be0">vbo_exec_init()</a>.</p>

<p><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="vbo__exec_8c_a97ec1c55baf3ef5e19a2d7303260299e_cgraph.png" border="0" usemap="#vbo__exec_8c_a97ec1c55baf3ef5e19a2d7303260299e_cgraph" alt=""/></div>
<map name="vbo__exec_8c_a97ec1c55baf3ef5e19a2d7303260299e_cgraph" id="vbo__exec_8c_a97ec1c55baf3ef5e19a2d7303260299e_cgraph">
<area shape="rect" id="node3" doxygen="main.tag:../core/" href="../core/api__arrayelt_8c.html#a33c97885d5cbea90d878fd769a0fc7ee" title="_ae_invalidate_state" alt="" coords="195,5,336,32"/><area shape="rect" id="node5" href="vbo__context_8h.html#ad2565177b844c6d6807efd2db35f18b9" title="vbo_context" alt="" coords="219,56,312,83"/></map>
</div>
</p>

</div>
</div>
<a class="anchor" id="a45956dc25d15d16e8a9ef07c057d3f29"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="elRef" doxygen="math.tag:../math/" href="../math/m__xform_8h.html#a8aa1a77d4a1470f10dcc93ed4564cb72">void</a> vbo_merge_prims </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="struct__mesa__prim.html">_mesa_prim</a> *&#160;</td>
          <td class="paramname"><em>p0</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const struct <a class="el" href="struct__mesa__prim.html">_mesa_prim</a> *&#160;</td>
          <td class="paramname"><em>p1</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>If we've determined that p0 and p1 can be merged, this function concatenates p1 onto p0. </p>

<p>References <a class="el" href="struct__mesa__prim.html#a686f813c941985fa8c93816db9339d04">_mesa_prim::count</a>, <a class="el" href="struct__mesa__prim.html#a96e9496d3fb7fda2247dea827109cd06">_mesa_prim::end</a>, and <a class="el" href="vbo_8h.html#a325466a9eb647c7863a670deb7d6d607">vbo_can_merge_prims()</a>.</p>

<p>Referenced by <a class="el" href="vbo__save__api_8c.html#a1375d9aa39fa3570c66db217a0fc3c39">merge_prims()</a>, and <a class="el" href="vbo__exec__api_8c.html#a49dd4b62f970dcfc2f6b4403b8182b2f">try_vbo_merge()</a>.</p>

<p><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="vbo__exec_8c_a45956dc25d15d16e8a9ef07c057d3f29_cgraph.png" border="0" usemap="#vbo__exec_8c_a45956dc25d15d16e8a9ef07c057d3f29_cgraph" alt=""/></div>
<map name="vbo__exec_8c_a45956dc25d15d16e8a9ef07c057d3f29_cgraph" id="vbo__exec_8c_a45956dc25d15d16e8a9ef07c057d3f29_cgraph">
<area shape="rect" id="node3" href="vbo_8h.html#a325466a9eb647c7863a670deb7d6d607" title="Helper function for determining if two subsequent glBegin/glEnd primitives can be combined..." alt="" coords="179,5,333,32"/></map>
</div>
</p>

</div>
</div>
<a class="anchor" id="addb8a1c2d5d7fe7841f4bdebe6fba421"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="elRef" doxygen="math.tag:../math/" href="../math/m__xform_8h.html#a8aa1a77d4a1470f10dcc93ed4564cb72">void</a> vbo_try_prim_conversion </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="struct__mesa__prim.html">_mesa_prim</a> *&#160;</td>
          <td class="paramname"><em>p</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>In some degenarate cases we can improve our ability to merge consecutive primitives. </p>
<p>For example: glBegin(GL_LINE_STRIP); glVertex(1); glVertex(1); glEnd(); glBegin(GL_LINE_STRIP); glVertex(1); glVertex(1); glEnd(); Can be merged as a GL_LINES prim with four vertices.</p>
<p>This function converts 2-vertex line strips/loops into GL_LINES, etc. </p>

<p>References <a class="el" href="struct__mesa__prim.html#a686f813c941985fa8c93816db9339d04">_mesa_prim::count</a>, and <a class="el" href="struct__mesa__prim.html#aabdd6cc399a4b144bc626b4633e326e0">_mesa_prim::mode</a>.</p>

<p>Referenced by <a class="el" href="vbo__save__api_8c.html#a1375d9aa39fa3570c66db217a0fc3c39">merge_prims()</a>, and <a class="el" href="vbo__exec__api_8c.html#a49dd4b62f970dcfc2f6b4403b8182b2f">try_vbo_merge()</a>.</p>

</div>
</div>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.3.1
</small></address>
</body>
</html>
