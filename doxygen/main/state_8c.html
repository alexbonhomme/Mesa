<html>
<head>
<title>Mesa Source Code Documentation</title>
<link href="doxygen.css" rel="stylesheet" type="text/css">
</head>
<body>
<div class="qindex">
<a class="qindex" href="../main/index.html">core</a> |
<a class="qindex" href="../glapi/index.html">glapi</a> |
<a class="qindex" href="../glsl/index.html">glsl</a> |
<a class="qindex" href="../vbo/index.html">vbo</a> |
<a class="qindex" href="../math/index.html">math</a> |
<a class="qindex" href="../shader/index.html">shader</a> |
<a class="qindex" href="../swrast/index.html">swrast</a> |
<a class="qindex" href="../swrast_setup/index.html">swrast_setup</a> |
<a class="qindex" href="../tnl/index.html">tnl</a> |
<a class="qindex" href="../tnl_dd/index.html">tnl_dd</a> |
<a class="qindex" href="../gbm/index.html">gbm</a>
</div>
<!-- Generated by Doxygen 1.8.3.1 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li><a href="pages.html"><span>Related&#160;Pages</span></a></li>
      <li><a href="annotated.html"><span>Data&#160;Structures</span></a></li>
      <li class="current"><a href="files.html"><span>Files</span></a></li>
      <li>
        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.png" alt=""/></a>
          </span>
        </div>
      </li>
    </ul>
  </div>
  <div id="navrow2" class="tabs2">
    <ul class="tablist">
      <li><a href="files.html"><span>File&#160;List</span></a></li>
      <li><a href="globals.html"><span>Globals</span></a></li>
    </ul>
  </div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
<a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(0)"><span class="SelectionMark">&#160;</span>All</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(1)"><span class="SelectionMark">&#160;</span>Data Structures</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(2)"><span class="SelectionMark">&#160;</span>Files</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(3)"><span class="SelectionMark">&#160;</span>Functions</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(4)"><span class="SelectionMark">&#160;</span>Variables</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(5)"><span class="SelectionMark">&#160;</span>Typedefs</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(6)"><span class="SelectionMark">&#160;</span>Enumerations</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(7)"><span class="SelectionMark">&#160;</span>Enumerator</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(8)"><span class="SelectionMark">&#160;</span>Macros</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(9)"><span class="SelectionMark">&#160;</span>Groups</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(10)"><span class="SelectionMark">&#160;</span>Pages</a></div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><a class="el" href="dir_68267d1309a1af8e8297ef4c3efbcdba.html">src</a></li><li class="navelem"><a class="el" href="dir_9172db528ee902c60f00bbddd6d6be2b.html">mesa</a></li><li class="navelem"><a class="el" href="dir_db8f13f21ca1473bc26b1a085f9dca79.html">main</a></li>  </ul>
</div>
</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#func-members">Functions</a>  </div>
  <div class="headertitle">
<div class="title">state.c File Reference</div>  </div>
</div><!--header-->
<div class="contents">

<p>State management.  
<a href="#details">More...</a></p>
<div class="textblock"><code>#include &quot;<a class="el" href="glheader_8h.html">glheader.h</a>&quot;</code><br/>
<code>#include &quot;<a class="el" href="mtypes_8h.html">mtypes.h</a>&quot;</code><br/>
<code>#include &quot;<a class="el" href="arrayobj_8h.html">arrayobj.h</a>&quot;</code><br/>
<code>#include &quot;<a class="el" href="context_8h.html">context.h</a>&quot;</code><br/>
<code>#include &quot;<a class="el" href="debug_8h.html">debug.h</a>&quot;</code><br/>
<code>#include &quot;<a class="el" href="macros_8h.html">macros.h</a>&quot;</code><br/>
<code>#include &quot;<a class="el" href="ffvertex__prog_8h.html">ffvertex_prog.h</a>&quot;</code><br/>
<code>#include &quot;<a class="el" href="framebuffer_8h.html">framebuffer.h</a>&quot;</code><br/>
<code>#include &quot;<a class="el" href="light_8h.html">light.h</a>&quot;</code><br/>
<code>#include &quot;<a class="el" href="matrix_8h.html">matrix.h</a>&quot;</code><br/>
<code>#include &quot;<a class="el" href="pixel_8h.html">pixel.h</a>&quot;</code><br/>
<code>#include &quot;program/program.h&quot;</code><br/>
<code>#include &quot;program/prog_parameter.h&quot;</code><br/>
<code>#include &quot;<a class="el" href="shaderobj_8h.html">shaderobj.h</a>&quot;</code><br/>
<code>#include &quot;<a class="el" href="state_8h.html">state.h</a>&quot;</code><br/>
<code>#include &quot;<a class="el" href="stencil_8h.html">stencil.h</a>&quot;</code><br/>
<code>#include &quot;<a class="el" href="texenvprogram_8h.html">texenvprogram.h</a>&quot;</code><br/>
<code>#include &quot;<a class="el" href="texobj_8h.html">texobj.h</a>&quot;</code><br/>
<code>#include &quot;<a class="el" href="texstate_8h.html">texstate.h</a>&quot;</code><br/>
<code>#include &quot;<a class="el" href="varray_8h.html">varray.h</a>&quot;</code><br/>
<code>#include &quot;<a class="el" href="blend_8h.html">blend.h</a>&quot;</code><br/>
</div><div class="textblock"><div class="dynheader">
Include dependency graph for state.c:</div>
<div class="dyncontent">
<div class="center"><img src="state_8c__incl.png" border="0" usemap="#state_8c" alt=""/></div>
<map name="state_8c" id="state_8c">
<area shape="rect" id="node3" href="glheader_8h.html" title="Wrapper for GL/gl.h and GL/glext.h." alt="" coords="2087,453,2169,480"/><area shape="rect" id="node9" href="mtypes_8h.html" title="Main Mesa data structures." alt="" coords="694,304,769,331"/><area shape="rect" id="node26" href="arrayobj_8h.html" title="Functions for the GL_APPLE_vertex_array_object extension." alt="" coords="509,229,587,256"/><area shape="rect" id="node33" href="context_8h.html" title="Mesa context and visual&#45;related functions." alt="" coords="973,80,1048,107"/><area shape="rect" id="node68" href="debug_8h.html" title="Debugging functions." alt="" coords="2459,155,2527,181"/><area shape="rect" id="node71" href="macros_8h.html" title="A collection of useful macros." alt="" coords="1074,80,1149,107"/><area shape="rect" id="node74" href="ffvertex__prog_8h.html" title="ffvertex_prog.h" alt="" coords="1181,80,1291,107"/><area shape="rect" id="node76" href="framebuffer_8h.html" title="framebuffer.h" alt="" coords="2552,155,2651,181"/><area shape="rect" id="node79" href="light_8h.html" title="light.h" alt="" coords="1366,155,1423,181"/><area shape="rect" id="node82" href="matrix_8h.html" title="matrix.h" alt="" coords="1448,155,1517,181"/><area shape="rect" id="node85" href="pixel_8h.html" title="Pixel operations." alt="" coords="1773,229,1832,256"/><area shape="rect" id="node93" href="shaderobj_8h.html" title="shaderobj.h" alt="" coords="1857,229,1945,256"/><area shape="rect" id="node100" href="state_8h.html" title="state.h" alt="" coords="767,155,829,181"/><area shape="rect" id="node103" href="stencil_8h.html" title="Stencil operations." alt="" coords="2283,304,2353,331"/><area shape="rect" id="node106" href="texenvprogram_8h.html" title="texenvprogram.h" alt="" coords="2114,80,2232,107"/><area shape="rect" id="node108" href="texobj_8h.html" title="Texture object management." alt="" coords="1970,229,2037,256"/><area shape="rect" id="node115" href="texstate_8h.html" title="Texture state management." alt="" coords="1047,229,1127,256"/><area shape="rect" id="node119" href="varray_8h.html" title="varray.h" alt="" coords="2295,155,2364,181"/><area shape="rect" id="node122" href="blend_8h.html" title="Blending functions operations." alt="" coords="128,304,192,331"/><area shape="rect" id="node12" href="config_8h.html" title="Tunable configuration parameters." alt="" coords="562,379,661,405"/><area shape="rect" id="node16" doxygen="math.tag:../math/" href="../math/m__matrix_8h.html" title="math/m_matrix.h" alt="" coords="801,379,921,405"/><area shape="rect" id="node18" href="simple__list_8h.html" title="Simple macros for type&#45;safe, intrusive lists." alt="" coords="411,379,537,405"/><area shape="rect" id="node20" href="formats_8h.html" title="main/formats.h" alt="" coords="105,379,215,405"/><area shape="rect" id="node23" href="dd_8h.html" title="Device driver interfaces." alt="" coords="341,379,387,405"/><area shape="rect" id="node30" href="glformats_8h.html" title="glformats.h" alt="" coords="5,453,91,480"/><area shape="rect" id="node35" href="imports_8h.html" title="Standard C library function wrappers." alt="" coords="973,155,1048,181"/><area shape="rect" id="node37" href="compiler_8h.html" title="Compiler&#45;related stuff." alt="" coords="1576,304,1659,331"/><area shape="rect" id="node62" href="errors_8h.html" title="Mesa debugging and error handling functions." alt="" coords="905,229,972,256"/><area shape="rect" id="node113" href="samplerobj_8h.html" title="samplerobj.h" alt="" coords="2163,304,2259,331"/></map>
</div>
</div><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:a45aaa007c7e7d1f4daf0fdde6697bd96"><td class="memItemLeft" align="right" valign="top">static <a class="el" href="dispatch_8h.html#aaea0b9e83a003070f151f6152d0e9e43">void</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="state_8c.html#a45aaa007c7e7d1f4daf0fdde6697bd96">update_program_enables</a> (struct <a class="el" href="structgl__context.html">gl_context</a> *ctx)</td></tr>
<tr class="memdesc:a45aaa007c7e7d1f4daf0fdde6697bd96"><td class="mdescLeft">&#160;</td><td class="mdescRight">Update the following fields: ctx-&gt;VertexProgram._Enabled ctx-&gt;FragmentProgram._Enabled ctx-&gt;ATIFragmentShader._Enabled This needs to be done before texture state validation.  <a href="#a45aaa007c7e7d1f4daf0fdde6697bd96">More...</a><br/></td></tr>
<tr class="separator:a45aaa007c7e7d1f4daf0fdde6697bd96"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab2cefc4e6bb2434182ba7fafb9b7a1d6"><td class="memItemLeft" align="right" valign="top">static <a class="el" href="dispatch_8h.html#abba9f3044a895ec34d9247f04ce5bc64">GLbitfield</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="state_8c.html#ab2cefc4e6bb2434182ba7fafb9b7a1d6">update_program</a> (struct <a class="el" href="structgl__context.html">gl_context</a> *ctx)</td></tr>
<tr class="memdesc:ab2cefc4e6bb2434182ba7fafb9b7a1d6"><td class="mdescLeft">&#160;</td><td class="mdescRight">Update the ctx-&gt;Vertex/Geometry/FragmentProgram._Current pointers to point to the current/active programs.  <a href="#ab2cefc4e6bb2434182ba7fafb9b7a1d6">More...</a><br/></td></tr>
<tr class="separator:ab2cefc4e6bb2434182ba7fafb9b7a1d6"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:abeeaf4caafa9f09724eb219ee7948710"><td class="memItemLeft" align="right" valign="top">static <a class="el" href="dispatch_8h.html#abba9f3044a895ec34d9247f04ce5bc64">GLbitfield</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="state_8c.html#abeeaf4caafa9f09724eb219ee7948710">update_program_constants</a> (struct <a class="el" href="structgl__context.html">gl_context</a> *ctx)</td></tr>
<tr class="memdesc:abeeaf4caafa9f09724eb219ee7948710"><td class="mdescLeft">&#160;</td><td class="mdescRight">Examine shader constants and return either _NEW_PROGRAM_CONSTANTS or 0.  <a href="#abeeaf4caafa9f09724eb219ee7948710">More...</a><br/></td></tr>
<tr class="separator:abeeaf4caafa9f09724eb219ee7948710"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aeab3036f62fb8ca16ec6fc261872bbca"><td class="memItemLeft" align="right" valign="top">static <a class="el" href="dispatch_8h.html#aaea0b9e83a003070f151f6152d0e9e43">void</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="state_8c.html#aeab3036f62fb8ca16ec6fc261872bbca">update_viewport_matrix</a> (struct <a class="el" href="structgl__context.html">gl_context</a> *ctx)</td></tr>
<tr class="separator:aeab3036f62fb8ca16ec6fc261872bbca"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:acea4ac218d7443b9c6fb571c892680e1"><td class="memItemLeft" align="right" valign="top">static <a class="el" href="dispatch_8h.html#aaea0b9e83a003070f151f6152d0e9e43">void</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="state_8c.html#acea4ac218d7443b9c6fb571c892680e1">update_multisample</a> (struct <a class="el" href="structgl__context.html">gl_context</a> *ctx)</td></tr>
<tr class="memdesc:acea4ac218d7443b9c6fb571c892680e1"><td class="mdescLeft">&#160;</td><td class="mdescRight">Update derived multisample state.  <a href="#acea4ac218d7443b9c6fb571c892680e1">More...</a><br/></td></tr>
<tr class="separator:acea4ac218d7443b9c6fb571c892680e1"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aee79ba73a958b6825a9a0fd7b8239fea"><td class="memItemLeft" align="right" valign="top">static <a class="el" href="dispatch_8h.html#aaea0b9e83a003070f151f6152d0e9e43">void</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="state_8c.html#aee79ba73a958b6825a9a0fd7b8239fea">update_twoside</a> (struct <a class="el" href="structgl__context.html">gl_context</a> *ctx)</td></tr>
<tr class="memdesc:aee79ba73a958b6825a9a0fd7b8239fea"><td class="mdescLeft">&#160;</td><td class="mdescRight">Update the ctx-&gt;VertexProgram._TwoSideEnabled flag.  <a href="#aee79ba73a958b6825a9a0fd7b8239fea">More...</a><br/></td></tr>
<tr class="separator:aee79ba73a958b6825a9a0fd7b8239fea"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac9e3abfcbf35ca2d0ebd4303d8c1e102"><td class="memItemLeft" align="right" valign="top"><a class="el" href="dispatch_8h.html#aaea0b9e83a003070f151f6152d0e9e43">void</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="state_8c.html#ac9e3abfcbf35ca2d0ebd4303d8c1e102">_mesa_update_state_locked</a> (struct <a class="el" href="structgl__context.html">gl_context</a> *ctx)</td></tr>
<tr class="memdesc:ac9e3abfcbf35ca2d0ebd4303d8c1e102"><td class="mdescLeft">&#160;</td><td class="mdescRight">Compute derived GL state.  <a href="#ac9e3abfcbf35ca2d0ebd4303d8c1e102">More...</a><br/></td></tr>
<tr class="separator:ac9e3abfcbf35ca2d0ebd4303d8c1e102"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3301225e22fcaa49441fdc750c090313"><td class="memItemLeft" align="right" valign="top"><a class="el" href="dispatch_8h.html#aaea0b9e83a003070f151f6152d0e9e43">void</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="state_8c.html#a3301225e22fcaa49441fdc750c090313">_mesa_update_state</a> (struct <a class="el" href="structgl__context.html">gl_context</a> *ctx)</td></tr>
<tr class="separator:a3301225e22fcaa49441fdc750c090313"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5effa322de7d372e8ed298d8d3ca441d"><td class="memItemLeft" align="right" valign="top"><a class="el" href="dispatch_8h.html#aaea0b9e83a003070f151f6152d0e9e43">void</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="state_8c.html#a5effa322de7d372e8ed298d8d3ca441d">_mesa_set_varying_vp_inputs</a> (struct <a class="el" href="structgl__context.html">gl_context</a> *ctx, <a class="el" href="mtypes_8h.html#a08e6611a8a6bfdac877a1db934951f79">GLbitfield64</a> varying_inputs)</td></tr>
<tr class="memdesc:a5effa322de7d372e8ed298d8d3ca441d"><td class="mdescLeft">&#160;</td><td class="mdescRight">Want to figure out which fragment program inputs are actually constant/current values from ctx-&gt;Current.  <a href="#a5effa322de7d372e8ed298d8d3ca441d">More...</a><br/></td></tr>
<tr class="separator:a5effa322de7d372e8ed298d8d3ca441d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad43adfdffc65503085c592330042e644"><td class="memItemLeft" align="right" valign="top"><a class="el" href="dispatch_8h.html#aaea0b9e83a003070f151f6152d0e9e43">void</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="state_8c.html#ad43adfdffc65503085c592330042e644">_mesa_set_vp_override</a> (struct <a class="el" href="structgl__context.html">gl_context</a> *ctx, <a class="el" href="dispatch_8h.html#aea1419aa8aec5854bd9807b45171029d">GLboolean</a> flag)</td></tr>
<tr class="memdesc:ad43adfdffc65503085c592330042e644"><td class="mdescLeft">&#160;</td><td class="mdescRight">Used by drivers to tell core Mesa that the driver is going to install/ use its own vertex program.  <a href="#ad43adfdffc65503085c592330042e644">More...</a><br/></td></tr>
<tr class="separator:ad43adfdffc65503085c592330042e644"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>State management. </p>
<p>This file manages recalculation of derived values in struct <a class="el" href="structgl__context.html" title="Mesa rendering context.">gl_context</a>. </p>
</div><h2 class="groupheader">Function Documentation</h2>
<a class="anchor" id="a5effa322de7d372e8ed298d8d3ca441d"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="dispatch_8h.html#aaea0b9e83a003070f151f6152d0e9e43">void</a> _mesa_set_varying_vp_inputs </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structgl__context.html">gl_context</a> *&#160;</td>
          <td class="paramname"><em>ctx</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="mtypes_8h.html#a08e6611a8a6bfdac877a1db934951f79">GLbitfield64</a>&#160;</td>
          <td class="paramname"><em>varying_inputs</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Want to figure out which fragment program inputs are actually constant/current values from ctx-&gt;Current. </p>
<p>These should be referenced as a tracked state variable rather than a fragment program input, to save the overhead of putting a constant value in every submitted vertex, transferring it to hardware, interpolating it across the triangle, etc...</p>
<p>When there is a VP bound, just use vp-&gt;outputs. But when we're generating vp from fixed function state, basically want to calculate:</p>
<p>vp_out_2_fp_in( vp_in_2_vp_out( varying_inputs ) | potential_vp_outputs )</p>
<p>Where potential_vp_outputs is calculated by looking at enabled texgen, etc.</p>
<p>The generated fragment program should then only declare inputs that may vary or otherwise differ from the ctx-&gt;Current values. Otherwise, the fp should track them as state values instead. </p>

<p>References <a class="el" href="mtypes_8h.html#ab3ea088180856c27fb29d405d314e72a">_NEW_VARYING_VP_INPUTS</a>, <a class="el" href="structgl__fragment__program__state.html#ab1df35cefb6fa2872103bd4f18c60aea">gl_fragment_program_state::_TexEnvProgram</a>, <a class="el" href="structgl__vertex__program__state.html#a6fca56ae83515916350423dc40190422">gl_vertex_program_state::_TnlProgram</a>, <a class="el" href="structgl__context.html#a89e154a0f9180b7091565ed8cb7532da">gl_context::FragmentProgram</a>, <a class="el" href="structgl__context.html#ad9bbbbb426be7fd670dfd9470da9a890">gl_context::NewState</a>, <a class="el" href="structgl__context.html#a6cb06541c2368db95ef999a9070f6beb">gl_context::varying_vp_inputs</a>, and <a class="el" href="structgl__context.html#ab06d701f2e01d4f0690a075fe98c9de0">gl_context::VertexProgram</a>.</p>

</div>
</div>
<a class="anchor" id="ad43adfdffc65503085c592330042e644"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="dispatch_8h.html#aaea0b9e83a003070f151f6152d0e9e43">void</a> _mesa_set_vp_override </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structgl__context.html">gl_context</a> *&#160;</td>
          <td class="paramname"><em>ctx</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="dispatch_8h.html#aea1419aa8aec5854bd9807b45171029d">GLboolean</a>&#160;</td>
          <td class="paramname"><em>flag</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Used by drivers to tell core Mesa that the driver is going to install/ use its own vertex program. </p>
<p>In particular, this will prevent generated fragment programs from using state vars instead of ordinary varyings/inputs. </p>

<p>References <a class="el" href="mtypes_8h.html#a2373f8c9e63cd351061619393ffb7b32">_NEW_PROGRAM</a>, <a class="el" href="structgl__vertex__program__state.html#a260f7e434649c98010cfaa716214f099">gl_vertex_program_state::_Overriden</a>, <a class="el" href="structgl__context.html#ad9bbbbb426be7fd670dfd9470da9a890">gl_context::NewState</a>, and <a class="el" href="structgl__context.html#ab06d701f2e01d4f0690a075fe98c9de0">gl_context::VertexProgram</a>.</p>

<p>Referenced by <a class="el" href="drawpix_8h.html#a6f59685682f424478c3bc5040a5f3edd">_mesa_CopyPixels()</a>, <a class="el" href="drawpix_8h.html#a0d4dad38028e94c609efcb8e3bd03551">_mesa_DrawPixels()</a>, and <a class="el" href="drawtex_8c.html#aac924856b8d182adf797a493ac68390e">draw_texture()</a>.</p>

</div>
</div>
<a class="anchor" id="a3301225e22fcaa49441fdc750c090313"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="dispatch_8h.html#aaea0b9e83a003070f151f6152d0e9e43">void</a> _mesa_update_state </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structgl__context.html">gl_context</a> *&#160;</td>
          <td class="paramname"><em>ctx</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>References <a class="el" href="texobj_8c.html#a93efb659001bc73219c7a3627c057d27">_mesa_lock_context_textures()</a>, <a class="el" href="texobj_8c.html#ad49b18ca568a0b57afdf77ddd1b2ac57">_mesa_unlock_context_textures()</a>, and <a class="el" href="state_8c.html#ac9e3abfcbf35ca2d0ebd4303d8c1e102">_mesa_update_state_locked()</a>.</p>

<p>Referenced by <a class="el" href="accum_8h.html#a5460b6764b4196a2ad276fe5997b99c3">_mesa_Accum()</a>, <a class="el" href="fbobject_8h.html#a809e68d4b60aa7fd12c02e59ada579bc">_mesa_BlitFramebuffer()</a>, <a class="el" href="clear_8h.html#a94bc72abc7a2df4e82938d2c6e919cc5">_mesa_Clear()</a>, <a class="el" href="clear_8h.html#a0e170b964b9d406170857132b98afaa4">_mesa_ClearBufferfi()</a>, <a class="el" href="clear_8h.html#a482771bfc8eafdbf6e12f2181190ceb9">_mesa_ClearBufferfv()</a>, <a class="el" href="clear_8h.html#aa4dc2af0fe76d80117cbe397c0f74bdd">_mesa_ClearBufferiv()</a>, <a class="el" href="clear_8h.html#a0b8bc05c56e5dc2c4464777a1d58a29b">_mesa_ClearBufferuiv()</a>, <a class="el" href="teximage_8h.html#aac12f4f12b41405d29b49cd4c00e5d2c">_mesa_EGLImageTargetTexture2DOES()</a>, <a class="el" href="multisample_8h.html#a1b2a113a34a807c1413090581be8eff8">_mesa_GetMultisamplefv()</a>, <a class="el" href="texenv_8h.html#a74653b6629daf73e5e57cf98e5c6f299">_mesa_GetTexEnvfv()</a>, <a class="el" href="readpix_8h.html#a9a250af15b55197fa494d7eb4ff48555">_mesa_ReadnPixelsARB()</a>, <a class="el" href="readpix_8h.html#af1399ac12649d61bf6d82c408952042e">_mesa_readpixels()</a>, <a class="el" href="context_8h.html#ad951603a4d33d18b15d0eeafc4ad5e1d">_mesa_valid_to_render()</a>, <a class="el" href="get_8c.html#aef4f0c5723ba1b00293d519f5c16f7fe">check_extra()</a>, <a class="el" href="teximage_8c.html#a9fc0b8e0ef8f14b325a62a058ab65a15">copyteximage()</a>, <a class="el" href="teximage_8c.html#a39872c457c8528eb95c22b1effe91b96">copytexsubimage()</a>, <a class="el" href="drawtex_8c.html#aac924856b8d182adf797a493ac68390e">draw_texture()</a>, <a class="el" href="rastpos_8c.html#a771f60450fb4ea4efaae2d49e25290ca">rasterpos()</a>, <a class="el" href="teximage_8c.html#afdf346e3510f50cf6a815ab982dff6db">teximage()</a>, and <a class="el" href="teximage_8c.html#a3d9a1cc2dd5ebe5659c33c2d72e350ab">texsubimage()</a>.</p>

<p><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="state_8c_a3301225e22fcaa49441fdc750c090313_cgraph.png" border="0" usemap="#state_8c_a3301225e22fcaa49441fdc750c090313_cgraph" alt=""/></div>
<map name="state_8c_a3301225e22fcaa49441fdc750c090313_cgraph" id="state_8c_a3301225e22fcaa49441fdc750c090313_cgraph">
<area shape="rect" id="node3" href="texobj_8c.html#a93efb659001bc73219c7a3627c057d27" title="Simplest implementation of texture locking: grab the shared tex mutex." alt="" coords="205,602,347,643"/><area shape="rect" id="node5" href="texobj_8c.html#ad49b18ca568a0b57afdf77ddd1b2ac57" title="_mesa_unlock_context\l_textures" alt="" coords="198,667,354,709"/><area shape="rect" id="node7" href="state_8c.html#ac9e3abfcbf35ca2d0ebd4303d8c1e102" title="Compute derived GL state." alt="" coords="205,733,347,774"/><area shape="rect" id="node9" href="debug_8c.html#a4e7e0588d95ed6587b71317734ee7472" title="_mesa_print_state" alt="" coords="430,31,559,57"/><area shape="rect" id="node19" href="state_8c.html#a45aaa007c7e7d1f4daf0fdde6697bd96" title="Update the following fields: ctx&#45;&gt;VertexProgram._Enabled ctx&#45;&gt;FragmentProgram._Enabled ctx&#45;&gt;ATIFragme..." alt="" coords="411,368,578,395"/><area shape="rect" id="node21" href="matrix_8c.html#a02918063689e317d555fafa34697e044" title="Updates the combined modelview&#45;projection matrix." alt="" coords="407,419,583,461"/><area shape="rect" id="node35" href="texstate_8c.html#aa6d9b1ceca663d348998530dd12529db" title="Update texture&#45;related derived state." alt="" coords="417,528,572,555"/><area shape="rect" id="node46" href="framebuffer_8c.html#aabe748fcf971386bcae20e1cc898ad7b" title="Update state related to the current draw/read framebuffers." alt="" coords="405,652,585,679"/><area shape="rect" id="node54" href="framebuffer_8c.html#a690bcf049472e5b8a9cec055f7ef10e6" title="Update the context&#39;s current drawing buffer&#39;s Xmin, Xmax, Ymin, Ymax fields." alt="" coords="403,703,586,745"/><area shape="rect" id="node61" href="light_8c.html#aba9fa93b7c01f4878a6fd683e2fdd49e" title="Examine current lighting parameters to determine if the optimized lighting function can be used..." alt="" coords="417,107,572,133"/><area shape="rect" id="node66" href="state_8c.html#aee79ba73a958b6825a9a0fd7b8239fea" title="Update the ctx&#45;&gt;VertexProgram._TwoSideEnabled flag." alt="" coords="438,769,551,796"/><area shape="rect" id="node68" href="stencil_8c.html#a15a99e0840679fa9da759e80763a9976" title="Update derived stencil state." alt="" coords="419,820,571,847"/><area shape="rect" id="node70" href="pixel_8c.html#a2479b8b49043fa4fafaec6e2c100a475" title="Update mesa pixel transfer derived state." alt="" coords="424,871,565,897"/><area shape="rect" id="node74" href="state_8c.html#aeab3036f62fb8ca16ec6fc261872bbca" title="update_viewport_matrix" alt="" coords="415,921,575,948"/><area shape="rect" id="node78" href="state_8c.html#acea4ac218d7443b9c6fb571c892680e1" title="Update derived multisample state." alt="" coords="425,972,564,999"/><area shape="rect" id="node80" href="light_8c.html#aef91bb995525f22c4639d7df829b45c6" title="Bring up to date any state that relies on _NeedEyeCoords." alt="" coords="406,208,583,235"/><area shape="rect" id="node90" href="state_8c.html#ab2cefc4e6bb2434182ba7fafb9b7a1d6" title="Update the ctx&#45;&gt;Vertex/Geometry/FragmentProgram._Current pointers to point to the current/active prog..." alt="" coords="437,1039,552,1065"/><area shape="rect" id="node98" href="arrayobj_8c.html#a61afb981ac11ba340d5ea01f49e51849" title="Examine vertex arrays to update the gl_array_object::_MaxElement field." alt="" coords="420,1177,569,1218"/><area shape="rect" id="node106" href="state_8c.html#abeeaf4caafa9f09724eb219ee7948710" title="Examine shader constants and return either _NEW_PROGRAM_CONSTANTS or 0." alt="" coords="405,1243,584,1269"/><area shape="rect" id="node11" href="errors_8c.html#afc8dce020d84d78f5e31e2bde5e22676" title="Report debug information." alt="" coords="893,56,995,83"/><area shape="rect" id="node13" href="imports_8c.html#ac35ac70335a2eba350cfb3631dd10351" title="Needed due to #ifdef&#39;s, above." alt="" coords="1086,56,1205,83"/><area shape="rect" id="node15" href="errors_8c.html#a4e3abb78312a861aefc122c780e11343" title="output_if_debug" alt="" coords="1088,5,1203,32"/><area shape="rect" id="node17" href="dispatch_8h.html#aaea0b9e83a003070f151f6152d0e9e43" title="void" alt="" coords="1122,107,1169,133"/><area shape="rect" id="node23" doxygen="math.tag:../math/" href="../math/m__matrix_8c.html#a2dbf9ed3e4980c01f46b5cd373e061c9" title="_math_matrix_analyse" alt="" coords="867,376,1021,403"/><area shape="rect" id="node25" href="matrix_8c.html#af8c12f90796c2da00ee5ca2f6a2225ac" title="Calculate the combined modelview&#45;projection matrix." alt="" coords="637,310,800,351"/><area shape="rect" id="node30" href="matrix_8c.html#a816e124df62bff9cb9488d7b9e07f0b9" title="Update the projection matrix stack." alt="" coords="657,427,781,453"/><area shape="rect" id="node28" doxygen="math.tag:../math/" href="../math/m__matrix_8c.html#ab0a51de0408c7005807f5004abdf89d1" title="_math_matrix_mul_matrix" alt="" coords="858,317,1030,344"/><area shape="rect" id="node33" doxygen="math.tag:../math/" href="../math/m__matrix_8c.html#a76107f653a970333c78b6285ce3ede9e" title="_mesa_transform_vector" alt="" coords="861,427,1027,453"/><area shape="rect" id="node37" href="texstate_8c.html#add13f9352bfae60f30c9d2c9dd863658" title="update_texture_matrices" alt="" coords="636,477,801,504"/><area shape="rect" id="node42" href="texstate_8c.html#a0924da0d2f0fdc84bdbf333625511a62" title="update_texture_state" alt="" coords="647,528,791,555"/><area shape="rect" id="node39" doxygen="math.tag:../math/" href="../math/m__matrix_8c.html#a4a6637e785f47429f32d8191b136ea84" title="_math_matrix_is_dirty" alt="" coords="869,477,1019,504"/><area shape="rect" id="node44" href="texobj_8h.html#afb8f0d8661be95f0d81f552518d0a9d4" title="Is the texture &quot;complete&quot; with respect to the given sampler state?" alt="" coords="851,528,1037,555"/><area shape="rect" id="node48" href="blend_8c.html#ac6d33585b6d553883ed16bd410070116" title="Update the ctx&#45;&gt;Color._ClampFragmentColor field." alt="" coords="644,579,793,621"/><area shape="rect" id="node50" href="blend_8c.html#a60755b3f62e8988908faf6d550351ae7" title="Update the ctx&#45;&gt;Color._ClampVertexColor field." alt="" coords="644,645,793,686"/><area shape="rect" id="node52" href="framebuffer_8c.html#af0748cea50cb6b3a41453e598ad46ac0" title="Update a gl_framebuffer&#39;s derived state." alt="" coords="651,711,786,737"/><area shape="rect" id="node56" href="fbobject_8h.html#a97df2933946ce460854b6bbcf50b997b" title="Is the given FBO a user&#45;created FBO?" alt="" coords="877,787,1011,813"/><area shape="rect" id="node58" href="framebuffer_8c.html#abb0b3f442ac3c14415894d523d81f52d" title="Examine all the framebuffer&#39;s renderbuffers to update the Width/Height fields of the framebuffer..." alt="" coords="636,812,801,839"/><area shape="rect" id="node63" href="light_8c.html#a1f2fb690c9664825ec9db5dfc0dd6195" title="_mesa_update_material" alt="" coords="639,56,799,83"/><area shape="rect" id="node72" href="pixel_8c.html#ab10c37f65c03df424f7ae7e68d1ac7db" title="update_image_transfer\l_state" alt="" coords="641,863,796,905"/><area shape="rect" id="node76" doxygen="math.tag:../math/" href="../math/m__matrix_8c.html#a450a36764f9f45fcbff7dc016818af2b" title="_math_matrix_viewport" alt="" coords="640,929,797,956"/><area shape="rect" id="node82" doxygen="math.tag:../math/" href="../math/m__matrix_8c.html#a6540db69cb0fc02ba34be13a9e795f2b" title="_math_matrix_is_length\l_preserving" alt="" coords="864,179,1024,221"/><area shape="rect" id="node84" href="light_8c.html#adfb1a18a851688e7e4fa6a1a53d17a70" title="Update state derived from light position, spot direction." alt="" coords="637,259,800,285"/><area shape="rect" id="node86" href="light_8c.html#a72518e70ed4bdcc58fea7faa0e40e18d" title="update_modelview_scale" alt="" coords="635,208,803,235"/><area shape="rect" id="node92" href="shaderobj_8c.html#aadd19330a468f38f3e4b338067510f6a" title="Set ptr to point to shProg." alt="" coords="635,981,803,1022"/><area shape="rect" id="node94" href="texenvprogram_8h.html#a453f03168b83615859150058a8e03a27" title="_mesa_get_fixed_func\l_fragment_program" alt="" coords="642,1046,795,1087"/><area shape="rect" id="node96" href="ffvertex__prog_8c.html#a104f09aa4b6fa2791c4323339361c75d" title="Return a vertex program which implements the current fixed&#45;function transform/lighting/texgen operati..." alt="" coords="642,1111,795,1153"/><area shape="rect" id="node100" href="arrayobj_8h.html#a753f3d1515ec00096df1bf362ae46ff5" title="Returns the bitmask of all enabled arrays in arb/glsl shader mode." alt="" coords="649,1177,788,1218"/><area shape="rect" id="node102" href="arrayobj_8h.html#a38a19faf0e7309ee0e3ae3b6e3b8300d" title="Returns the bitmask of all enabled arrays in fixed function mode." alt="" coords="649,1242,788,1283"/><area shape="rect" id="node104" href="arrayobj_8c.html#a132430f96730f8741699d650c8acf45b" title="Helper for _mesa_update_array_object_max_element()." alt="" coords="640,1308,797,1335"/></map>
</div>
</p>

</div>
</div>
<a class="anchor" id="ac9e3abfcbf35ca2d0ebd4303d8c1e102"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="dispatch_8h.html#aaea0b9e83a003070f151f6152d0e9e43">void</a> _mesa_update_state_locked </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structgl__context.html">gl_context</a> *&#160;</td>
          <td class="paramname"><em>ctx</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Compute derived GL state. </p>
<p>If __struct gl_contextRec::NewState is non-zero then this function <b>must</b> be called before rendering anything.</p>
<p>Calls <a class="el" href="structdd__function__table.html#a2c7ae870e22682e13995c5d987257b4e" title="Notify the driver after Mesa has made some internal state changes.">dd_function_table::UpdateState</a> to perform any internal state management necessary.</p>
<dl class="section see"><dt>See Also</dt><dd><a class="el" href="matrix_8c.html#a02918063689e317d555fafa34697e044" title="Updates the combined modelview-projection matrix.">_mesa_update_modelview_project()</a>, <a class="el" href="texstate_8c.html#aa6d9b1ceca663d348998530dd12529db" title="Update texture-related derived state.">_mesa_update_texture()</a>, _mesa_update_buffer_bounds(), <a class="el" href="light_8c.html#aba9fa93b7c01f4878a6fd683e2fdd49e" title="Examine current lighting parameters to determine if the optimized lighting function can be used...">_mesa_update_lighting()</a> and <a class="el" href="light_8c.html#aef91bb995525f22c4639d7df829b45c6" title="Bring up to date any state that relies on _NeedEyeCoords.">_mesa_update_tnl_spaces()</a>. </dd></dl>

<p>References <a class="el" href="structgl__fragment__program__state.html#a247d1e028097254f5db83a167f5e6d87">gl_fragment_program_state::_MaintainTexEnvProgram</a>, <a class="el" href="structgl__vertex__program__state.html#a25cf40e3fa871999228dc52ba6e53551">gl_vertex_program_state::_MaintainTnlProgram</a>, <a class="el" href="mtypes_8h.html#a8261ebede55ed805fb538289d0180fe5">_MESA_NEW_NEED_EYE_COORDS</a>, <a class="el" href="debug_8c.html#a4e7e0588d95ed6587b71317734ee7472">_mesa_print_state()</a>, <a class="el" href="arrayobj_8c.html#a61afb981ac11ba340d5ea01f49e51849">_mesa_update_array_object_max_element()</a>, <a class="el" href="framebuffer_8c.html#a690bcf049472e5b8a9cec055f7ef10e6">_mesa_update_draw_buffer_bounds()</a>, <a class="el" href="framebuffer_8c.html#aabe748fcf971386bcae20e1cc898ad7b">_mesa_update_framebuffer()</a>, <a class="el" href="light_8c.html#aba9fa93b7c01f4878a6fd683e2fdd49e">_mesa_update_lighting()</a>, <a class="el" href="matrix_8c.html#a02918063689e317d555fafa34697e044">_mesa_update_modelview_project()</a>, <a class="el" href="pixel_8c.html#a2479b8b49043fa4fafaec6e2c100a475">_mesa_update_pixel()</a>, <a class="el" href="stencil_8c.html#a15a99e0840679fa9da759e80763a9976">_mesa_update_stencil()</a>, <a class="el" href="texstate_8c.html#aa6d9b1ceca663d348998530dd12529db">_mesa_update_texture()</a>, <a class="el" href="light_8c.html#aef91bb995525f22c4639d7df829b45c6">_mesa_update_tnl_spaces()</a>, <a class="el" href="mtypes_8h.html#a1bd5703001e58e99d6e86538099e999a">_NEW_ARRAY</a>, <a class="el" href="mtypes_8h.html#a15adc9a5fae763ae500ca60628c93046">_NEW_BUFFER_OBJECT</a>, <a class="el" href="mtypes_8h.html#adbdb321b5645d2d6e88c021d58e5dab5">_NEW_BUFFERS</a>, <a class="el" href="mtypes_8h.html#a7fdff6f8c9ac73f55ed0cd55386fdc1c">_NEW_COLOR</a>, <a class="el" href="mtypes_8h.html#a67297f36bddac04a07b4998f0a0d422c">_NEW_CURRENT_ATTRIB</a>, <a class="el" href="mtypes_8h.html#ac2fe0d78616f1f5ff9ec14c581d6ee95">_NEW_FOG</a>, <a class="el" href="mtypes_8h.html#aa9d1c7d56f97d01667453e267bea91aa">_NEW_FRAG_CLAMP</a>, <a class="el" href="mtypes_8h.html#a152824f286a4e93a59a2efe8ae46ceab">_NEW_LIGHT</a>, <a class="el" href="mtypes_8h.html#a3cdaaf0db5e5822f3f8a463ac03f719a">_NEW_MODELVIEW</a>, <a class="el" href="mtypes_8h.html#a988dff173552095e8e07ce284d5ae62f">_NEW_MULTISAMPLE</a>, <a class="el" href="mtypes_8h.html#a881b84b6bb35eda5c682fbdcd4a1972c">_NEW_PIXEL</a>, <a class="el" href="mtypes_8h.html#afba7d43a20a845d18167fd4cbefdb72b">_NEW_POINT</a>, <a class="el" href="mtypes_8h.html#a2373f8c9e63cd351061619393ffb7b32">_NEW_PROGRAM</a>, <a class="el" href="mtypes_8h.html#abdcf4de7d790ed2dcc06f1c89ddb39f4">_NEW_PROJECTION</a>, <a class="el" href="mtypes_8h.html#ac8779c8fcae66b06cfd62a340ad60846">_NEW_RENDERMODE</a>, <a class="el" href="mtypes_8h.html#a64525a3c1b39cc9774a3961848b80f8d">_NEW_SCISSOR</a>, <a class="el" href="mtypes_8h.html#a7b12e2be4fe7758a6b403c5bfe7dc6e4">_NEW_STENCIL</a>, <a class="el" href="mtypes_8h.html#ac2b65bc0075d7090b640001803b858d8">_NEW_TEXTURE</a>, <a class="el" href="mtypes_8h.html#a3783d360005ad2a9b6337cb26a7d8875">_NEW_TEXTURE_MATRIX</a>, <a class="el" href="mtypes_8h.html#aac0e65d91253c52bea30507629cc0a90">_NEW_TRANSFORM</a>, <a class="el" href="mtypes_8h.html#ab3ea088180856c27fb29d405d314e72a">_NEW_VARYING_VP_INPUTS</a>, <a class="el" href="mtypes_8h.html#ae5a41f22d82c166fe0097a08aae376ae">_NEW_VIEWPORT</a>, <a class="el" href="structgl__context.html#a7612fcdb4163ab4dca31937f78adb826">gl_context::Array</a>, <a class="el" href="structgl__array__attrib.html#a5b76335061c850042bafb294cb63b7c6">gl_array_attrib::ArrayObj</a>, <a class="el" href="structgl__constants.html#a79dcbb047fa8daa7a56f0c5079a08f84">gl_constants::CheckArrayBounds</a>, <a class="el" href="structgl__context.html#a225ea8c45facc3040c10c9460e031c04">gl_context::Const</a>, <a class="el" href="structgl__context.html#ab3a40dffd6176c154014e6ed457da31e">gl_context::Driver</a>, <a class="el" href="structgl__context.html#a89e154a0f9180b7091565ed8cb7532da">gl_context::FragmentProgram</a>, <a class="el" href="dispatch_8h.html#aa0a5aee31e075262045e404a3a162395">GLbitfield</a>, <a class="el" href="mtypes_8h.html#a8f090018fc494404a97005820db55925">MESA_VERBOSE</a>, <a class="el" href="structgl__context.html#ad9bbbbb426be7fd670dfd9470da9a890">gl_context::NewState</a>, <a class="el" href="state_8c.html#acea4ac218d7443b9c6fb571c892680e1">update_multisample()</a>, <a class="el" href="state_8c.html#ab2cefc4e6bb2434182ba7fafb9b7a1d6">update_program()</a>, <a class="el" href="state_8c.html#abeeaf4caafa9f09724eb219ee7948710">update_program_constants()</a>, <a class="el" href="state_8c.html#a45aaa007c7e7d1f4daf0fdde6697bd96">update_program_enables()</a>, <a class="el" href="state_8c.html#aee79ba73a958b6825a9a0fd7b8239fea">update_twoside()</a>, <a class="el" href="state_8c.html#aeab3036f62fb8ca16ec6fc261872bbca">update_viewport_matrix()</a>, <a class="el" href="structdd__function__table.html#a2c7ae870e22682e13995c5d987257b4e">dd_function_table::UpdateState</a>, <a class="el" href="mtypes_8h.html#a5be3f265bf51b59828ff43f059290833a2e213774b5075dfb98b75e21e5f81091">VERBOSE_STATE</a>, and <a class="el" href="structgl__context.html#ab06d701f2e01d4f0690a075fe98c9de0">gl_context::VertexProgram</a>.</p>

<p>Referenced by <a class="el" href="texparam_8h.html#aae5749da07920fad2b2b65cc58f13004">_mesa_GetTexParameterfv()</a>, and <a class="el" href="state_8h.html#a3301225e22fcaa49441fdc750c090313">_mesa_update_state()</a>.</p>

<p><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="state_8c_ac9e3abfcbf35ca2d0ebd4303d8c1e102_cgraph.png" border="0" usemap="#state_8c_ac9e3abfcbf35ca2d0ebd4303d8c1e102_cgraph" alt=""/></div>
<map name="state_8c_ac9e3abfcbf35ca2d0ebd4303d8c1e102_cgraph" id="state_8c_ac9e3abfcbf35ca2d0ebd4303d8c1e102_cgraph">
<area shape="rect" id="node3" href="debug_8c.html#a4e7e0588d95ed6587b71317734ee7472" title="_mesa_print_state" alt="" coords="223,31,353,57"/><area shape="rect" id="node13" href="arrayobj_8c.html#a61afb981ac11ba340d5ea01f49e51849" title="Examine vertex arrays to update the gl_array_object::_MaxElement field." alt="" coords="213,405,363,446"/><area shape="rect" id="node25" href="framebuffer_8c.html#a690bcf049472e5b8a9cec055f7ef10e6" title="Update the context&#39;s current drawing buffer&#39;s Xmin, Xmax, Ymin, Ymax fields." alt="" coords="427,493,610,534"/><area shape="rect" id="node32" href="framebuffer_8c.html#aabe748fcf971386bcae20e1cc898ad7b" title="Update state related to the current draw/read framebuffers." alt="" coords="198,651,378,677"/><area shape="rect" id="node52" href="light_8c.html#aba9fa93b7c01f4878a6fd683e2fdd49e" title="Examine current lighting parameters to determine if the optimized lighting function can be used..." alt="" coords="211,107,365,133"/><area shape="rect" id="node57" href="matrix_8c.html#a02918063689e317d555fafa34697e044" title="Updates the combined modelview&#45;projection matrix." alt="" coords="200,797,376,838"/><area shape="rect" id="node67" href="pixel_8c.html#a2479b8b49043fa4fafaec6e2c100a475" title="Update mesa pixel transfer derived state." alt="" coords="217,915,359,941"/><area shape="rect" id="node71" href="stencil_8c.html#a15a99e0840679fa9da759e80763a9976" title="Update derived stencil state." alt="" coords="212,965,364,992"/><area shape="rect" id="node73" href="texstate_8c.html#aa6d9b1ceca663d348998530dd12529db" title="Update texture&#45;related derived state." alt="" coords="211,864,365,891"/><area shape="rect" id="node80" href="light_8c.html#aef91bb995525f22c4639d7df829b45c6" title="Bring up to date any state that relies on _NeedEyeCoords." alt="" coords="199,208,377,235"/><area shape="rect" id="node90" href="state_8c.html#acea4ac218d7443b9c6fb571c892680e1" title="Update derived multisample state." alt="" coords="219,1016,357,1043"/><area shape="rect" id="node92" href="state_8c.html#ab2cefc4e6bb2434182ba7fafb9b7a1d6" title="Update the ctx&#45;&gt;Vertex/Geometry/FragmentProgram._Current pointers to point to the current/active prog..." alt="" coords="231,1067,345,1093"/><area shape="rect" id="node100" href="state_8c.html#abeeaf4caafa9f09724eb219ee7948710" title="Examine shader constants and return either _NEW_PROGRAM_CONSTANTS or 0." alt="" coords="199,1117,377,1144"/><area shape="rect" id="node102" href="state_8c.html#a45aaa007c7e7d1f4daf0fdde6697bd96" title="Update the following fields: ctx&#45;&gt;VertexProgram._Enabled ctx&#45;&gt;FragmentProgram._Enabled ctx&#45;&gt;ATIFragme..." alt="" coords="205,1168,371,1195"/><area shape="rect" id="node104" href="state_8c.html#aee79ba73a958b6825a9a0fd7b8239fea" title="Update the ctx&#45;&gt;VertexProgram._TwoSideEnabled flag." alt="" coords="231,1219,345,1245"/><area shape="rect" id="node106" href="state_8c.html#aeab3036f62fb8ca16ec6fc261872bbca" title="update_viewport_matrix" alt="" coords="208,1272,368,1299"/><area shape="rect" id="node5" href="errors_8c.html#afc8dce020d84d78f5e31e2bde5e22676" title="Report debug information." alt="" coords="701,56,803,83"/><area shape="rect" id="node7" href="imports_8c.html#ac35ac70335a2eba350cfb3631dd10351" title="Needed due to #ifdef&#39;s, above." alt="" coords="910,5,1029,32"/><area shape="rect" id="node9" href="errors_8c.html#a4e3abb78312a861aefc122c780e11343" title="output_if_debug" alt="" coords="912,56,1027,83"/><area shape="rect" id="node11" href="dispatch_8h.html#aaea0b9e83a003070f151f6152d0e9e43" title="void" alt="" coords="946,107,993,133"/><area shape="rect" id="node15" href="arrayobj_8h.html#a753f3d1515ec00096df1bf362ae46ff5" title="Returns the bitmask of all enabled arrays in arb/glsl shader mode." alt="" coords="449,310,588,351"/><area shape="rect" id="node17" href="arrayobj_8h.html#a38a19faf0e7309ee0e3ae3b6e3b8300d" title="Returns the bitmask of all enabled arrays in fixed function mode." alt="" coords="449,375,588,417"/><area shape="rect" id="node19" href="arrayobj_8c.html#a132430f96730f8741699d650c8acf45b" title="Helper for _mesa_update_array_object_max_element()." alt="" coords="440,441,597,468"/><area shape="rect" id="node21" href="varray_8h.html#a467039e6981b7d5084b3bf2d04968981" title="Compute the index of the last array element that can be safely accessed in a vertex array..." alt="" coords="681,333,823,374"/><area shape="rect" id="node23" href="imports_8c.html#ac0c482ce69d275a8d0244af38b3a5550" title="Find position of first bit set in given value." alt="" coords="731,399,773,425"/><area shape="rect" id="node27" href="fbobject_8h.html#a97df2933946ce460854b6bbcf50b997b" title="Is the given FBO a user&#45;created FBO?" alt="" coords="902,500,1037,527"/><area shape="rect" id="node29" href="framebuffer_8c.html#abb0b3f442ac3c14415894d523d81f52d" title="Examine all the framebuffer&#39;s renderbuffers to update the Width/Height fields of the framebuffer..." alt="" coords="669,500,835,527"/><area shape="rect" id="node34" href="blend_8c.html#ac6d33585b6d553883ed16bd410070116" title="Update the ctx&#45;&gt;Color._ClampFragmentColor field." alt="" coords="444,610,593,651"/><area shape="rect" id="node38" href="blend_8c.html#a60755b3f62e8988908faf6d550351ae7" title="Update the ctx&#45;&gt;Color._ClampVertexColor field." alt="" coords="444,675,593,717"/><area shape="rect" id="node42" href="framebuffer_8c.html#af0748cea50cb6b3a41453e598ad46ac0" title="Update a gl_framebuffer&#39;s derived state." alt="" coords="451,559,586,585"/><area shape="rect" id="node36" href="blend_8c.html#a19471b24cb2beba1e8977b6ce4b9d3c6" title="_mesa_get_clamp_fragment\l_color" alt="" coords="659,719,845,761"/><area shape="rect" id="node40" href="blend_8c.html#a4d06c487c9a0bcb72086e2b14576abe1" title="_mesa_get_clamp_vertex\l_color" alt="" coords="667,785,837,826"/><area shape="rect" id="node44" href="buffers_8c.html#abbec14624dd74f5fcae673329d60f9f3" title="Helper function to set the GL_DRAW_BUFFER state in the context and current FBO." alt="" coords="684,668,820,695"/><area shape="rect" id="node46" href="fbobject_8h.html#ae7473d56512fc5fbb05bfc40004f22cf" title="Is the given FBO a window system FBO (like an X window)?" alt="" coords="894,643,1045,669"/><area shape="rect" id="node49" href="fbobject_8c.html#a30883de5213e4b5a4adafb3835125686" title="Test if the given framebuffer object is complete and update its Status field with the results..." alt="" coords="671,551,833,593"/><area shape="rect" id="node54" href="light_8c.html#a1f2fb690c9664825ec9db5dfc0dd6195" title="_mesa_update_material" alt="" coords="439,56,599,83"/><area shape="rect" id="node59" doxygen="math.tag:../math/" href="../math/m__matrix_8c.html#a2dbf9ed3e4980c01f46b5cd373e061c9" title="_math_matrix_analyse" alt="" coords="675,855,829,881"/><area shape="rect" id="node61" href="matrix_8c.html#af8c12f90796c2da00ee5ca2f6a2225ac" title="Calculate the combined modelview&#45;projection matrix." alt="" coords="437,793,600,834"/><area shape="rect" id="node64" href="matrix_8c.html#a816e124df62bff9cb9488d7b9e07f0b9" title="Update the projection matrix stack." alt="" coords="457,859,581,885"/><area shape="rect" id="node69" href="pixel_8c.html#ab10c37f65c03df424f7ae7e68d1ac7db" title="update_image_transfer\l_state" alt="" coords="441,1011,596,1053"/><area shape="rect" id="node75" href="texstate_8c.html#add13f9352bfae60f30c9d2c9dd863658" title="update_texture_matrices" alt="" coords="436,909,601,936"/><area shape="rect" id="node78" href="texstate_8c.html#a0924da0d2f0fdc84bdbf333625511a62" title="update_texture_state" alt="" coords="447,960,591,987"/><area shape="rect" id="node82" doxygen="math.tag:../math/" href="../math/m__matrix_8c.html#a6540db69cb0fc02ba34be13a9e795f2b" title="_math_matrix_is_length\l_preserving" alt="" coords="672,179,832,221"/><area shape="rect" id="node84" href="light_8c.html#adfb1a18a851688e7e4fa6a1a53d17a70" title="Update state derived from light position, spot direction." alt="" coords="437,259,600,285"/><area shape="rect" id="node86" href="light_8c.html#a72518e70ed4bdcc58fea7faa0e40e18d" title="update_modelview_scale" alt="" coords="435,208,603,235"/><area shape="rect" id="node94" href="shaderobj_8c.html#aadd19330a468f38f3e4b338067510f6a" title="Set ptr to point to shProg." alt="" coords="435,1077,603,1118"/><area shape="rect" id="node96" href="texenvprogram_8h.html#a453f03168b83615859150058a8e03a27" title="_mesa_get_fixed_func\l_fragment_program" alt="" coords="442,1142,595,1183"/><area shape="rect" id="node98" href="ffvertex__prog_8c.html#a104f09aa4b6fa2791c4323339361c75d" title="Return a vertex program which implements the current fixed&#45;function transform/lighting/texgen operati..." alt="" coords="442,1207,595,1249"/><area shape="rect" id="node108" doxygen="math.tag:../math/" href="../math/m__matrix_8c.html#a450a36764f9f45fcbff7dc016818af2b" title="_math_matrix_viewport" alt="" coords="440,1273,597,1300"/></map>
</div>
</p>

</div>
</div>
<a class="anchor" id="acea4ac218d7443b9c6fb571c892680e1"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static <a class="el" href="dispatch_8h.html#aaea0b9e83a003070f151f6152d0e9e43">void</a> update_multisample </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structgl__context.html">gl_context</a> *&#160;</td>
          <td class="paramname"><em>ctx</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Update derived multisample state. </p>

<p>References <a class="el" href="structgl__multisample__attrib.html#a68ee7b2141cb4e6c18eefe01bc04026c">gl_multisample_attrib::_Enabled</a>, <a class="el" href="structgl__context.html#a69a6afef6a63b78db5e101c8bc0de3c0">gl_context::DrawBuffer</a>, <a class="el" href="structgl__multisample__attrib.html#a393138ae0d9ab18bbb674d7cd61b0aeb">gl_multisample_attrib::Enabled</a>, <a class="el" href="structgl__context.html#a61c5e0d659d8c8a9d86608e7d907c57f">gl_context::Multisample</a>, <a class="el" href="structgl__config.html#a93e5da814e85109ac2cfd3966218408f">gl_config::sampleBuffers</a>, and <a class="el" href="structgl__framebuffer.html#aa3ba32377612702a75b54ce1824ff9e0">gl_framebuffer::Visual</a>.</p>

<p>Referenced by <a class="el" href="state_8h.html#ac9e3abfcbf35ca2d0ebd4303d8c1e102">_mesa_update_state_locked()</a>.</p>

</div>
</div>
<a class="anchor" id="ab2cefc4e6bb2434182ba7fafb9b7a1d6"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static <a class="el" href="dispatch_8h.html#abba9f3044a895ec34d9247f04ce5bc64">GLbitfield</a> update_program </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structgl__context.html">gl_context</a> *&#160;</td>
          <td class="paramname"><em>ctx</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Update the ctx-&gt;Vertex/Geometry/FragmentProgram._Current pointers to point to the current/active programs. </p>
<p>Then call ctx-&gt;Driver.BindProgram() to tell the driver which programs to use.</p>
<p>Programs may come from 3 sources: GLSL shaders, ARB/NV_vertex/fragment programs or programs derived from fixed-function state.</p>
<p>This function needs to be called after texture state validation in case we're generating a fragment program from fixed-function texture state.</p>
<dl class="section return"><dt>Returns</dt><dd>bitfield which will indicate _NEW_PROGRAM state if a new vertex or fragment program is being used. </dd></dl>

<p>References <a class="el" href="structgl__vertex__program__state.html#aad47c1c418adcc08798b3d8c7c83944b">gl_vertex_program_state::_Current</a>, <a class="el" href="structgl__geometry__program__state.html#a781d4cf420fa3b9eb4274c244718e3dd">gl_geometry_program_state::_Current</a>, <a class="el" href="structgl__fragment__program__state.html#a72d39d0e5e47f779b036e0aef53a193e">gl_fragment_program_state::_Current</a>, <a class="el" href="structgl__shader__state.html#a85404992fab7eb728c6956e6c4e64e29">gl_shader_state::_CurrentFragmentProgram</a>, <a class="el" href="structgl__vertex__program__state.html#a90f66b100c1c3894203731a971396408">gl_vertex_program_state::_Enabled</a>, <a class="el" href="structgl__fragment__program__state.html#a5f3ae69f2bcc52b34ee8b378b66a9abf">gl_fragment_program_state::_Enabled</a>, <a class="el" href="structgl__shader__program.html#ae499ba7d1a2c3561f4701abcb2ce8df9">gl_shader_program::_LinkedShaders</a>, <a class="el" href="structgl__fragment__program__state.html#a247d1e028097254f5db83a167f5e6d87">gl_fragment_program_state::_MaintainTexEnvProgram</a>, <a class="el" href="structgl__vertex__program__state.html#a25cf40e3fa871999228dc52ba6e53551">gl_vertex_program_state::_MaintainTnlProgram</a>, <a class="el" href="texenvprogram_8h.html#a453f03168b83615859150058a8e03a27">_mesa_get_fixed_func_fragment_program()</a>, <a class="el" href="ffvertex__prog_8c.html#a104f09aa4b6fa2791c4323339361c75d">_mesa_get_fixed_func_vertex_program()</a>, <a class="el" href="shaderobj_8c.html#aadd19330a468f38f3e4b338067510f6a">_mesa_reference_shader_program()</a>, <a class="el" href="mtypes_8h.html#a2373f8c9e63cd351061619393ffb7b32">_NEW_PROGRAM</a>, <a class="el" href="structgl__fragment__program__state.html#ab1df35cefb6fa2872103bd4f18c60aea">gl_fragment_program_state::_TexEnvProgram</a>, <a class="el" href="structgl__vertex__program__state.html#a6fca56ae83515916350423dc40190422">gl_vertex_program_state::_TnlProgram</a>, <a class="el" href="structdd__function__table.html#a433127ee09d8d5a75e5ca71c5b81cf74">dd_function_table::BindProgram</a>, <a class="el" href="structgl__vertex__program__state.html#a6f99b46cf56cd1b59f686f58b889874a">gl_vertex_program_state::Current</a>, <a class="el" href="structgl__fragment__program__state.html#aef890677586b6ba6e9017552f3a55f6b">gl_fragment_program_state::Current</a>, <a class="el" href="structgl__shader__state.html#ac18861d94d8cfa5a5fdece0d54f97050">gl_shader_state::CurrentFragmentProgram</a>, <a class="el" href="structgl__shader__state.html#a990599fec35843099f90a6c4c4ebf642">gl_shader_state::CurrentGeometryProgram</a>, <a class="el" href="structgl__shader__state.html#a9541f99b6afe0035d7b6cf8720117292">gl_shader_state::CurrentVertexProgram</a>, <a class="el" href="structgl__context.html#ab3a40dffd6176c154014e6ed457da31e">gl_context::Driver</a>, <a class="el" href="structgl__context.html#a89e154a0f9180b7091565ed8cb7532da">gl_context::FragmentProgram</a>, <a class="el" href="structgl__context.html#aeec2223cd7ccb0d2e9965b19cf9cd8d3">gl_context::GeometryProgram</a>, <a class="el" href="dispatch_8h.html#aa0a5aee31e075262045e404a3a162395">GLbitfield</a>, <a class="el" href="structgl__shader__program.html#a7707f3152aff759174e1244897ff79c5">gl_shader_program::LinkStatus</a>, <a class="el" href="glheader_8h.html#a2b0f319bc6e81e45a36518c6128ce7f7">MESA_GEOMETRY_PROGRAM</a>, <a class="el" href="mtypes_8h.html#a5ba2dff7efcab28eeb73c8d91a812217a78405451451cc997c85c33c7a0a2f861">MESA_SHADER_FRAGMENT</a>, <a class="el" href="mtypes_8h.html#a5ba2dff7efcab28eeb73c8d91a812217a5f283a8dbd4e44cfc71489ccf0d117e4">MESA_SHADER_GEOMETRY</a>, <a class="el" href="mtypes_8h.html#a5ba2dff7efcab28eeb73c8d91a812217ab18802526ed1aa8752a52eb4c2b2d1e6">MESA_SHADER_VERTEX</a>, <a class="el" href="compiler_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>, <a class="el" href="structgl__shader.html#a8b773546fa70bf5a5815dcc565a92456">gl_shader::Program</a>, <a class="el" href="structgl__context.html#a1c915accc801a459a4e60e27e39c98ad">gl_context::Shader</a>, and <a class="el" href="structgl__context.html#ab06d701f2e01d4f0690a075fe98c9de0">gl_context::VertexProgram</a>.</p>

<p>Referenced by <a class="el" href="state_8h.html#ac9e3abfcbf35ca2d0ebd4303d8c1e102">_mesa_update_state_locked()</a>.</p>

<p><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="state_8c_ab2cefc4e6bb2434182ba7fafb9b7a1d6_cgraph.png" border="0" usemap="#state_8c_ab2cefc4e6bb2434182ba7fafb9b7a1d6_cgraph" alt=""/></div>
<map name="state_8c_ab2cefc4e6bb2434182ba7fafb9b7a1d6_cgraph" id="state_8c_ab2cefc4e6bb2434182ba7fafb9b7a1d6_cgraph">
<area shape="rect" id="node3" href="texenvprogram_8h.html#a453f03168b83615859150058a8e03a27" title="_mesa_get_fixed_func\l_fragment_program" alt="" coords="175,1217,329,1258"/><area shape="rect" id="node5" href="ffvertex__prog_8c.html#a104f09aa4b6fa2791c4323339361c75d" title="Return a vertex program which implements the current fixed&#45;function transform/lighting/texgen operati..." alt="" coords="175,1282,329,1324"/><area shape="rect" id="node146" href="shaderobj_8c.html#aadd19330a468f38f3e4b338067510f6a" title="Set ptr to point to shProg." alt="" coords="168,1644,336,1685"/><area shape="rect" id="node7" href="ffvertex__prog_8c.html#a2847abdc9d504194b09a0ab193290f31" title="create_new_program" alt="" coords="387,1290,530,1316"/><area shape="rect" id="node138" href="ffvertex__prog_8c.html#a28dd14109f4450c2c6cbc792fccf8a9b" title="make_state_key" alt="" coords="399,1214,518,1240"/><area shape="rect" id="node9" href="ffvertex__prog_8c.html#ae001c903c47a466eb4270461efca9ef5" title="build_tnl_program" alt="" coords="615,1290,739,1316"/><area shape="rect" id="node11" href="ffvertex__prog_8c.html#a90c0853329bd0837488c7852216339e4" title="Pass&#45;though per&#45;vertex point size, from user&#39;s point size array." alt="" coords="1245,1366,1389,1392"/><area shape="rect" id="node17" href="ffvertex__prog_8c.html#ae68f2a89cc8242229f8da8cbfde5df36" title="Point size attenuation computation." alt="" coords="1013,1720,1157,1747"/><area shape="rect" id="node40" href="ffvertex__prog_8c.html#a097e0736f5cf38cbeef1b4e79fc36ac8" title="build_fog" alt="" coords="1048,1264,1123,1291"/><area shape="rect" id="node61" href="ffvertex__prog_8c.html#a264bcdb1448b0752f4800bc9e05167c6" title="build_hpos" alt="" coords="1275,1112,1359,1139"/><area shape="rect" id="node68" href="ffvertex__prog_8c.html#a5620cbee22976d38213220eba59486fa" title="build_lighting" alt="" coords="833,504,930,531"/><area shape="rect" id="node121" href="ffvertex__prog_8c.html#a65dced6830e31da60003cb8c263730d1" title="build_texture_transform" alt="" coords="1006,986,1165,1012"/><area shape="rect" id="node124" href="ffvertex__prog_8c.html#a6f988c0e1e129df1b295a7fc59304685" title="emit_passthrough" alt="" coords="1255,1315,1380,1342"/><area shape="rect" id="node13" href="ffvertex__prog_8c.html#a22176e2338cdb6b4004a2c62ed644559" title="register_input" alt="" coords="1497,1163,1597,1190"/><area shape="rect" id="node15" href="ffvertex__prog_8c.html#ade0aa77c442a33d2af223fcde5718fef" title="register_output" alt="" coords="1493,1416,1601,1443"/><area shape="rect" id="node19" href="ffvertex__prog_8c.html#a3e7dcd5f9ccddaa47847367fabfbf598" title="get_eye_position_z" alt="" coords="1250,1264,1385,1291"/><area shape="rect" id="node26" href="ffvertex__prog_8c.html#a2172f1229c102818373d3610c60f7b8c" title="swizzle1" alt="" coords="1702,1087,1775,1114"/><area shape="rect" id="node28" href="ffvertex__prog_8c.html#aa8434349162ae310e66a5fded3c8e10f" title="get_temp" alt="" coords="1701,352,1777,379"/><area shape="rect" id="node37" href="ffvertex__prog_8c.html#a48cf94379fec6995df92dceea1a5ecd5" title="release_temp" alt="" coords="1689,454,1789,480"/><area shape="rect" id="node21" href="ffvertex__prog_8c.html#a149fe5f21d74617c34372cff42ec8cde" title="is_undef" alt="" coords="1511,707,1582,734"/><area shape="rect" id="node24" href="ffvertex__prog_8c.html#ac1a41b6dbb476c6e4b0d87ad3d3f345c" title="register_matrix_param5" alt="" coords="1467,1062,1626,1088"/><area shape="rect" id="node30" href="errors_8c.html#ac1c2de47e4a8c905e1b94ca3191f38c0" title="Report an internal implementation problem." alt="" coords="1837,1112,1952,1139"/><area shape="rect" id="node32" href="imports_8c.html#ac35ac70335a2eba350cfb3631dd10351" title="Needed due to #ifdef&#39;s, above." alt="" coords="2001,1087,2119,1114"/><area shape="rect" id="node34" href="dispatch_8h.html#aaea0b9e83a003070f151f6152d0e9e43" title="void" alt="" coords="2037,1138,2083,1164"/><area shape="rect" id="node42" href="ffvertex__prog_8c.html#a4f6fcc68536fd9f7f5373002d2d8826c" title="get_eye_position" alt="" coords="1257,960,1377,987"/><area shape="rect" id="node55" href="ffvertex__prog_8c.html#a3f76679e45d14b30f10989e282ec050e" title="get_identity_param" alt="" coords="1251,656,1383,683"/><area shape="rect" id="node44" href="ffvertex__prog_8c.html#a1ce15d6f12bcc74c7956063ffa101ff3" title="emit_matrix_transform_vec4" alt="" coords="1453,1011,1640,1038"/><area shape="rect" id="node46" href="ffvertex__prog_8c.html#ab8a26846207a5a5d0f6e70fe573d3269" title="emit_transpose_matrix\l_transform_vec4" alt="" coords="1469,928,1624,969"/><area shape="rect" id="node70" href="ffvertex__prog_8c.html#a6ca368b00fdf5c67d741862c9cb8d41e" title="calculate_light_attenuation" alt="" coords="1229,352,1405,379"/><area shape="rect" id="node76" href="ffvertex__prog_8c.html#aad5d0da403905ebea175965bfb88fb36" title="Compute: lit.y = MAX(0, dots.x) lit.z = SLT(0, dots.x)" alt="" coords="1018,606,1153,632"/><area shape="rect" id="node80" href="ffvertex__prog_8c.html#a0b05a1bc9f0508891dc2fce993ee0a7c" title="emit_normalize_vec3" alt="" coords="1474,352,1619,379"/><area shape="rect" id="node86" href="ffvertex__prog_8c.html#a9b2be3044afacfa706b61bc47b031091" title="get_eye_position_normalized" alt="" coords="990,504,1181,531"/><area shape="rect" id="node92" href="ffvertex__prog_8c.html#a6f8fee4e5728057d3af07a4e4a22bcca" title="get_lightprod" alt="" coords="1037,352,1133,379"/><area shape="rect" id="node94" href="ffvertex__prog_8c.html#a5e2b686ba63b3eef144f75d594b6017c" title="get_material" alt="" coords="1271,403,1364,430"/><area shape="rect" id="node99" href="ffvertex__prog_8c.html#a04fa58987cc8de065b9446127ca7dc0d" title="Either return a precalculated constant value or emit code to calculate these values dynamically in th..." alt="" coords="1030,251,1141,278"/><area shape="rect" id="node102" href="ffvertex__prog_8c.html#a4bbbe7575a3965abf57f66fc1e31daa1" title="make_temp" alt="" coords="1272,150,1363,176"/><area shape="rect" id="node106" href="ffvertex__prog_8c.html#aceef15265b251e476972b41eb60114ba" title="get_transformed_normal" alt="" coords="1236,758,1399,784"/><area shape="rect" id="node114" href="ffvertex__prog_8c.html#a07d814ecfd4fe7c8400430a1ff07436d" title="negate" alt="" coords="1055,150,1116,176"/><area shape="rect" id="node118" href="ffvertex__prog_8c.html#acf8682bac7c31765da1435addbd87bb9" title="release_temps" alt="" coords="1264,707,1371,734"/><area shape="rect" id="node140" href="ffvertex__prog_8c.html#acb1a20938841fa4360253f5382d6a102" title="check_active_shininess" alt="" coords="597,1188,758,1215"/><area shape="rect" id="node142" href="ffvertex__prog_8c.html#a24d38762495381b7b1fa5148b2637a1e" title="translate_fog_distance_mode" alt="" coords="581,1239,773,1266"/><area shape="rect" id="node144" href="ffvertex__prog_8c.html#ab5f6a982d6473c4c78a19827f5528094" title="translate_texgen" alt="" coords="618,1138,737,1164"/><area shape="rect" id="node148" href="hash_8c.html#ace94fccc23fa2c949ddf18828bffc176" title="Remove an entry from the hash table." alt="" coords="385,1948,533,1975"/><area shape="rect" id="node150" href="hash__table_8c.html#ab0f18848f5606303ab91b2b1ee762ecd" title="This function deletes the given hash table entry." alt="" coords="587,1923,768,1950"/><area shape="rect" id="node152" href="hash__table_8c.html#a29d49831f59c5682166c5796bb0482ae" title="Finds a hash table entry with the given key and hash of that key." alt="" coords="589,1974,766,2000"/><area shape="rect" id="node159" href="hash_8c.html#a9cc49de14d380e0a488b8807aedc9e49" title="uint_hash" alt="" coords="638,2024,717,2051"/><area shape="rect" id="node161" href="hash_8c.html#a74d0f9f21dc0f67829f9e9699fe88dc2" title="uint_key" alt="" coords="642,2075,713,2102"/><area shape="rect" id="node154" href="hash__table_8c.html#af73102fdaa8cb45f2a56c3bac210e162" title="entry_is_free" alt="" coords="833,1999,930,2026"/><area shape="rect" id="node156" href="hash__table_8c.html#a091be61d8da42898d8ac1683b60d6879" title="entry_is_present" alt="" coords="822,1948,941,1975"/></map>
</div>
</p>

</div>
</div>
<a class="anchor" id="abeeaf4caafa9f09724eb219ee7948710"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static <a class="el" href="dispatch_8h.html#abba9f3044a895ec34d9247f04ce5bc64">GLbitfield</a> update_program_constants </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structgl__context.html">gl_context</a> *&#160;</td>
          <td class="paramname"><em>ctx</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Examine shader constants and return either _NEW_PROGRAM_CONSTANTS or 0. </p>

<p>References <a class="el" href="structgl__vertex__program__state.html#aad47c1c418adcc08798b3d8c7c83944b">gl_vertex_program_state::_Current</a>, <a class="el" href="structgl__geometry__program__state.html#a781d4cf420fa3b9eb4274c244718e3dd">gl_geometry_program_state::_Current</a>, <a class="el" href="structgl__fragment__program__state.html#a72d39d0e5e47f779b036e0aef53a193e">gl_fragment_program_state::_Current</a>, <a class="el" href="mtypes_8h.html#ad0a13bba2046ff8dc69648b72376273b">_NEW_PROGRAM_CONSTANTS</a>, <a class="el" href="structgl__vertex__program.html#a3718014a50f8ff1b33e58b9c3fa14825">gl_vertex_program::Base</a>, <a class="el" href="structgl__geometry__program.html#a426a03a510cd0d4fc3530da28e621496">gl_geometry_program::Base</a>, <a class="el" href="structgl__fragment__program.html#a5e553a93a452a38fb7fc0ecccd0471be">gl_fragment_program::Base</a>, <a class="el" href="structgl__context.html#a89e154a0f9180b7091565ed8cb7532da">gl_context::FragmentProgram</a>, <a class="el" href="structgl__context.html#aeec2223cd7ccb0d2e9965b19cf9cd8d3">gl_context::GeometryProgram</a>, <a class="el" href="dispatch_8h.html#aa0a5aee31e075262045e404a3a162395">GLbitfield</a>, <a class="el" href="structgl__context.html#ad9bbbbb426be7fd670dfd9470da9a890">gl_context::NewState</a>, <a class="el" href="structgl__program.html#aca16898039f1b1387adeb95951497e9e">gl_program::Parameters</a>, and <a class="el" href="structgl__context.html#ab06d701f2e01d4f0690a075fe98c9de0">gl_context::VertexProgram</a>.</p>

<p>Referenced by <a class="el" href="state_8h.html#ac9e3abfcbf35ca2d0ebd4303d8c1e102">_mesa_update_state_locked()</a>.</p>

</div>
</div>
<a class="anchor" id="a45aaa007c7e7d1f4daf0fdde6697bd96"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static <a class="el" href="dispatch_8h.html#aaea0b9e83a003070f151f6152d0e9e43">void</a> update_program_enables </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structgl__context.html">gl_context</a> *&#160;</td>
          <td class="paramname"><em>ctx</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Update the following fields: ctx-&gt;VertexProgram._Enabled ctx-&gt;FragmentProgram._Enabled ctx-&gt;ATIFragmentShader._Enabled This needs to be done before texture state validation. </p>

<p>References <a class="el" href="structgl__vertex__program__state.html#a90f66b100c1c3894203731a971396408">gl_vertex_program_state::_Enabled</a>, <a class="el" href="structgl__fragment__program__state.html#a5f3ae69f2bcc52b34ee8b378b66a9abf">gl_fragment_program_state::_Enabled</a>, <a class="el" href="structgl__ati__fragment__shader__state.html#a57396827d7d46ffb2abea3589a971440">gl_ati_fragment_shader_state::_Enabled</a>, <a class="el" href="structgl__context.html#a4815e3b00c0136cdc32ba1892812c74d">gl_context::ATIFragmentShader</a>, <a class="el" href="structgl__vertex__program.html#a3718014a50f8ff1b33e58b9c3fa14825">gl_vertex_program::Base</a>, <a class="el" href="structgl__fragment__program.html#a5e553a93a452a38fb7fc0ecccd0471be">gl_fragment_program::Base</a>, <a class="el" href="structgl__vertex__program__state.html#a6f99b46cf56cd1b59f686f58b889874a">gl_vertex_program_state::Current</a>, <a class="el" href="structgl__fragment__program__state.html#aef890677586b6ba6e9017552f3a55f6b">gl_fragment_program_state::Current</a>, <a class="el" href="structgl__ati__fragment__shader__state.html#afc19b9bc7021daaa3415b661d32428e3">gl_ati_fragment_shader_state::Current</a>, <a class="el" href="structgl__vertex__program__state.html#a3988daf8a8b42ed71d1dd96d426c95a5">gl_vertex_program_state::Enabled</a>, <a class="el" href="structgl__fragment__program__state.html#a92fa9f8da05aca095049860b963a5d2b">gl_fragment_program_state::Enabled</a>, <a class="el" href="structgl__ati__fragment__shader__state.html#abd0a9e3b32e71bf0371ff5c6837b5b84">gl_ati_fragment_shader_state::Enabled</a>, <a class="el" href="structgl__context.html#a89e154a0f9180b7091565ed8cb7532da">gl_context::FragmentProgram</a>, <a class="el" href="structgl__program.html#a82481e40d232b569b8a37525652dd5ca">gl_program::Instructions</a>, <a class="el" href="structati__fragment__shader.html#a2cd2214b16fd9870635413ca8f15bcb1">ati_fragment_shader::Instructions</a>, and <a class="el" href="structgl__context.html#ab06d701f2e01d4f0690a075fe98c9de0">gl_context::VertexProgram</a>.</p>

<p>Referenced by <a class="el" href="state_8h.html#ac9e3abfcbf35ca2d0ebd4303d8c1e102">_mesa_update_state_locked()</a>.</p>

</div>
</div>
<a class="anchor" id="aee79ba73a958b6825a9a0fd7b8239fea"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static <a class="el" href="dispatch_8h.html#aaea0b9e83a003070f151f6152d0e9e43">void</a> update_twoside </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structgl__context.html">gl_context</a> *&#160;</td>
          <td class="paramname"><em>ctx</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Update the ctx-&gt;VertexProgram._TwoSideEnabled flag. </p>

<p>References <a class="el" href="structgl__vertex__program__state.html#a90f66b100c1c3894203731a971396408">gl_vertex_program_state::_Enabled</a>, <a class="el" href="structgl__vertex__program__state.html#a367e4f6700f82d52a6309ae4d1d3a0d5">gl_vertex_program_state::_TwoSideEnabled</a>, <a class="el" href="structgl__shader__state.html#a9541f99b6afe0035d7b6cf8720117292">gl_shader_state::CurrentVertexProgram</a>, <a class="el" href="structgl__light__attrib.html#aef72c7536f36b8005a9b5dfd25e94f81">gl_light_attrib::Enabled</a>, <a class="el" href="structgl__context.html#a5f080158d18983d21aa97cc694bdaefb">gl_context::Light</a>, <a class="el" href="structgl__light__attrib.html#a9248638db24a85cf31b6304346c35806">gl_light_attrib::Model</a>, <a class="el" href="structgl__context.html#a1c915accc801a459a4e60e27e39c98ad">gl_context::Shader</a>, <a class="el" href="structgl__lightmodel.html#adf9fd2d4f67193ff77cf7812a4c33903">gl_lightmodel::TwoSide</a>, <a class="el" href="structgl__vertex__program__state.html#abeed77ce028216185df77da002d30d4a">gl_vertex_program_state::TwoSideEnabled</a>, and <a class="el" href="structgl__context.html#ab06d701f2e01d4f0690a075fe98c9de0">gl_context::VertexProgram</a>.</p>

<p>Referenced by <a class="el" href="state_8h.html#ac9e3abfcbf35ca2d0ebd4303d8c1e102">_mesa_update_state_locked()</a>.</p>

</div>
</div>
<a class="anchor" id="aeab3036f62fb8ca16ec6fc261872bbca"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static <a class="el" href="dispatch_8h.html#aaea0b9e83a003070f151f6152d0e9e43">void</a> update_viewport_matrix </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structgl__context.html">gl_context</a> *&#160;</td>
          <td class="paramname"><em>ctx</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>References <a class="el" href="structgl__framebuffer.html#aa8142b01ba5c1fdaba570d71eac7cb89">gl_framebuffer::_DepthMaxF</a>, <a class="elRef" doxygen="math.tag:../math/" href="../math/m__matrix_8c.html#a450a36764f9f45fcbff7dc016818af2b">_math_matrix_viewport()</a>, <a class="el" href="structgl__viewport__attrib.html#a86dbd63a6a946a496c30bedc88ca0917">gl_viewport_attrib::_WindowMap</a>, <a class="el" href="compiler_8h.html#ad014a2a071494bbabc34b48eeebadbf3">ASSERT</a>, <a class="el" href="structgl__context.html#a69a6afef6a63b78db5e101c8bc0de3c0">gl_context::DrawBuffer</a>, <a class="el" href="structgl__viewport__attrib.html#a53f7a7cfe759cdcae99397a9c51fdc36">gl_viewport_attrib::Far</a>, <a class="el" href="structgl__viewport__attrib.html#a4579e0442567cf9f78d7538f50830afb">gl_viewport_attrib::Height</a>, <a class="el" href="structgl__viewport__attrib.html#a0edf4cb14b67560cde10e8a29dd50c35">gl_viewport_attrib::Near</a>, <a class="el" href="structgl__context.html#a54504b1734cbd90b1debe5c538b2ddeb">gl_context::Viewport</a>, <a class="el" href="structgl__viewport__attrib.html#ac62b91aefaa599fe2f3ec10717bbaa35">gl_viewport_attrib::Width</a>, <a class="el" href="structgl__viewport__attrib.html#a273d1f8984680f47cef201be58918b35">gl_viewport_attrib::X</a>, and <a class="el" href="structgl__viewport__attrib.html#af70111dc22dd4c0d0ce66e9bdeeca1c3">gl_viewport_attrib::Y</a>.</p>

<p>Referenced by <a class="el" href="state_8h.html#ac9e3abfcbf35ca2d0ebd4303d8c1e102">_mesa_update_state_locked()</a>.</p>

<p><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="state_8c_aeab3036f62fb8ca16ec6fc261872bbca_cgraph.png" border="0" usemap="#state_8c_aeab3036f62fb8ca16ec6fc261872bbca_cgraph" alt=""/></div>
<map name="state_8c_aeab3036f62fb8ca16ec6fc261872bbca_cgraph" id="state_8c_aeab3036f62fb8ca16ec6fc261872bbca_cgraph">
<area shape="rect" id="node3" doxygen="math.tag:../math/" href="../math/m__matrix_8c.html#a450a36764f9f45fcbff7dc016818af2b" title="_math_matrix_viewport" alt="" coords="213,5,371,32"/></map>
</div>
</p>

</div>
</div>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.3.1
</small></address>
</body>
</html>
