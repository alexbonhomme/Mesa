<html>
<head>
<title>Mesa Source Code Documentation</title>
<link href="doxygen.css" rel="stylesheet" type="text/css">
</head>
<body>
<div class="qindex">
<a class="qindex" href="../main/index.html">core</a> |
<a class="qindex" href="../glapi/index.html">glapi</a> |
<a class="qindex" href="../glsl/index.html">glsl</a> |
<a class="qindex" href="../vbo/index.html">vbo</a> |
<a class="qindex" href="../math/index.html">math</a> |
<a class="qindex" href="../shader/index.html">shader</a> |
<a class="qindex" href="../swrast/index.html">swrast</a> |
<a class="qindex" href="../swrast_setup/index.html">swrast_setup</a> |
<a class="qindex" href="../tnl/index.html">tnl</a> |
<a class="qindex" href="../tnl_dd/index.html">tnl_dd</a> |
<a class="qindex" href="../gbm/index.html">gbm</a>
</div>
<!-- Generated by Doxygen 1.8.3.1 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li><a href="pages.html"><span>Related&#160;Pages</span></a></li>
      <li><a href="modules.html"><span>Modules</span></a></li>
      <li><a href="namespaces.html"><span>Namespaces</span></a></li>
      <li class="current"><a href="annotated.html"><span>Data&#160;Structures</span></a></li>
      <li><a href="files.html"><span>Files</span></a></li>
      <li>
        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.png" alt=""/></a>
          </span>
        </div>
      </li>
    </ul>
  </div>
  <div id="navrow2" class="tabs2">
    <ul class="tablist">
      <li><a href="annotated.html"><span>Data&#160;Structures</span></a></li>
      <li><a href="inherits.html"><span>Class&#160;Hierarchy</span></a></li>
      <li><a href="functions.html"><span>Data&#160;Fields</span></a></li>
    </ul>
  </div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
<a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(0)"><span class="SelectionMark">&#160;</span>All</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(1)"><span class="SelectionMark">&#160;</span>Data Structures</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(2)"><span class="SelectionMark">&#160;</span>Namespaces</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(3)"><span class="SelectionMark">&#160;</span>Files</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(4)"><span class="SelectionMark">&#160;</span>Functions</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(5)"><span class="SelectionMark">&#160;</span>Variables</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(6)"><span class="SelectionMark">&#160;</span>Typedefs</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(7)"><span class="SelectionMark">&#160;</span>Enumerations</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(8)"><span class="SelectionMark">&#160;</span>Enumerator</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(9)"><span class="SelectionMark">&#160;</span>Friends</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(10)"><span class="SelectionMark">&#160;</span>Macros</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(11)"><span class="SelectionMark">&#160;</span>Groups</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(12)"><span class="SelectionMark">&#160;</span>Pages</a></div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#pub-methods">Public Member Functions</a> &#124;
<a href="#pub-attribs">Data Fields</a>  </div>
  <div class="headertitle">
<div class="title">count_uniform_size Class Reference</div>  </div>
</div><!--header-->
<div class="contents">

<p>Class to help calculate the storage requirements for a set of uniforms.  
 <a href="classcount__uniform__size.html#details">More...</a></p>
<div class="dynheader">
Inheritance diagram for count_uniform_size:</div>
<div class="dyncontent">
<div class="center"><img src="classcount__uniform__size__inherit__graph.png" border="0" usemap="#count__uniform__size_inherit__map" alt="Inheritance graph"/></div>
<map name="count__uniform__size_inherit__map" id="count__uniform__size_inherit__map">
<area shape="rect" id="node2" href="classprogram__resource__visitor.html" title="Class for processing all of the leaf fields of a variable that corresponds to a program resource..." alt="" coords="5,5,173,32"/></map>
<center><span class="legend">[<a href="graph_legend.html">legend</a>]</span></center></div>
<div class="dynheader">
Collaboration diagram for count_uniform_size:</div>
<div class="dyncontent">
<div class="center"><img src="classcount__uniform__size__coll__graph.png" border="0" usemap="#count__uniform__size_coll__map" alt="Collaboration graph"/></div>
<map name="count__uniform__size_coll__map" id="count__uniform__size_coll__map">
<area shape="rect" id="node2" href="classprogram__resource__visitor.html" title="Class for processing all of the leaf fields of a variable that corresponds to a program resource..." alt="" coords="5,5,173,32"/></map>
<center><span class="legend">[<a href="graph_legend.html">legend</a>]</span></center></div>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-methods"></a>
Public Member Functions</h2></td></tr>
<tr class="memitem:a5d45d0b324dd205fd75fd5fdb25d56f5"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classcount__uniform__size.html#a5d45d0b324dd205fd75fd5fdb25d56f5">count_uniform_size</a> (struct string_to_uint_map *map)</td></tr>
<tr class="separator:a5d45d0b324dd205fd75fd5fdb25d56f5"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a327fe58790f50a7aa250d34a531cc4b7"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classcount__uniform__size.html#a327fe58790f50a7aa250d34a531cc4b7">start_shader</a> ()</td></tr>
<tr class="separator:a327fe58790f50a7aa250d34a531cc4b7"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3060a8080b6f96cffd1da3900b20232d"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classcount__uniform__size.html#a3060a8080b6f96cffd1da3900b20232d">process</a> (<a class="el" href="classir__variable.html">ir_variable</a> *var)</td></tr>
<tr class="separator:a3060a8080b6f96cffd1da3900b20232d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="inherit_header pub_methods_classprogram__resource__visitor"><td colspan="2" onclick="javascript:toggleInherit('pub_methods_classprogram__resource__visitor')"><img src="closed.png" alt="-"/>&#160;Public Member Functions inherited from <a class="el" href="classprogram__resource__visitor.html">program_resource_visitor</a></td></tr>
<tr class="memitem:aad94aa68248077ec74df085aadbd0a13 inherit pub_methods_classprogram__resource__visitor"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classprogram__resource__visitor.html#aad94aa68248077ec74df085aadbd0a13">process</a> (<a class="el" href="classir__variable.html">ir_variable</a> *var)</td></tr>
<tr class="memdesc:aad94aa68248077ec74df085aadbd0a13 inherit pub_methods_classprogram__resource__visitor"><td class="mdescLeft">&#160;</td><td class="mdescRight">Begin processing a variable.  <a href="#aad94aa68248077ec74df085aadbd0a13">More...</a><br/></td></tr>
<tr class="separator:aad94aa68248077ec74df085aadbd0a13 inherit pub_methods_classprogram__resource__visitor"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae725b4484ae60544f86b6ac6f805c0eb inherit pub_methods_classprogram__resource__visitor"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classprogram__resource__visitor.html#ae725b4484ae60544f86b6ac6f805c0eb">process</a> (const glsl_type *type, const char *name)</td></tr>
<tr class="memdesc:ae725b4484ae60544f86b6ac6f805c0eb inherit pub_methods_classprogram__resource__visitor"><td class="mdescLeft">&#160;</td><td class="mdescRight">Begin processing a variable of a structured type.  <a href="#ae725b4484ae60544f86b6ac6f805c0eb">More...</a><br/></td></tr>
<tr class="separator:ae725b4484ae60544f86b6ac6f805c0eb inherit pub_methods_classprogram__resource__visitor"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-attribs"></a>
Data Fields</h2></td></tr>
<tr class="memitem:a10c0547caffb4e9121e2d5c099aae1b4"><td class="memItemLeft" align="right" valign="top">unsigned&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classcount__uniform__size.html#a10c0547caffb4e9121e2d5c099aae1b4">num_active_uniforms</a></td></tr>
<tr class="memdesc:a10c0547caffb4e9121e2d5c099aae1b4"><td class="mdescLeft">&#160;</td><td class="mdescRight">Total number of active uniforms counted.  <a href="#a10c0547caffb4e9121e2d5c099aae1b4">More...</a><br/></td></tr>
<tr class="separator:a10c0547caffb4e9121e2d5c099aae1b4"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8e0d7810fdb9f207372ba0969a993bf5"><td class="memItemLeft" align="right" valign="top">unsigned&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classcount__uniform__size.html#a8e0d7810fdb9f207372ba0969a993bf5">num_values</a></td></tr>
<tr class="memdesc:a8e0d7810fdb9f207372ba0969a993bf5"><td class="mdescLeft">&#160;</td><td class="mdescRight">Number of data values required to back the storage for the active uniforms.  <a href="#a8e0d7810fdb9f207372ba0969a993bf5">More...</a><br/></td></tr>
<tr class="separator:a8e0d7810fdb9f207372ba0969a993bf5"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad77496fd7700d3866961510400e9c988"><td class="memItemLeft" align="right" valign="top">unsigned&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classcount__uniform__size.html#ad77496fd7700d3866961510400e9c988">num_shader_samplers</a></td></tr>
<tr class="memdesc:ad77496fd7700d3866961510400e9c988"><td class="mdescLeft">&#160;</td><td class="mdescRight">Number of samplers used.  <a href="#ad77496fd7700d3866961510400e9c988">More...</a><br/></td></tr>
<tr class="separator:ad77496fd7700d3866961510400e9c988"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9526c9708f3204bf51566388fd7b8b1a"><td class="memItemLeft" align="right" valign="top">unsigned&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classcount__uniform__size.html#a9526c9708f3204bf51566388fd7b8b1a">num_shader_uniform_components</a></td></tr>
<tr class="memdesc:a9526c9708f3204bf51566388fd7b8b1a"><td class="mdescLeft">&#160;</td><td class="mdescRight">Number of uniforms used in the current shader.  <a href="#a9526c9708f3204bf51566388fd7b8b1a">More...</a><br/></td></tr>
<tr class="separator:a9526c9708f3204bf51566388fd7b8b1a"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="inherited"></a>
Additional Inherited Members</h2></td></tr>
<tr class="inherit_header pro_methods_classprogram__resource__visitor"><td colspan="2" onclick="javascript:toggleInherit('pro_methods_classprogram__resource__visitor')"><img src="closed.png" alt="-"/>&#160;Protected Member Functions inherited from <a class="el" href="classprogram__resource__visitor.html">program_resource_visitor</a></td></tr>
<tr class="memitem:ae33ca879e7b0b7bdcb62c06082a1f837 inherit pro_methods_classprogram__resource__visitor"><td class="memItemLeft" align="right" valign="top">virtual void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classprogram__resource__visitor.html#ae33ca879e7b0b7bdcb62c06082a1f837">visit_field</a> (const glsl_struct_field *field)</td></tr>
<tr class="memdesc:ae33ca879e7b0b7bdcb62c06082a1f837 inherit pro_methods_classprogram__resource__visitor"><td class="mdescLeft">&#160;</td><td class="mdescRight">Visit a record before visiting its fields.  <a href="#ae33ca879e7b0b7bdcb62c06082a1f837">More...</a><br/></td></tr>
<tr class="separator:ae33ca879e7b0b7bdcb62c06082a1f837 inherit pro_methods_classprogram__resource__visitor"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>Class to help calculate the storage requirements for a set of uniforms. </p>
<p>As uniforms are added to the active set the number of active uniforms and the storage requirements for those uniforms are accumulated. The active uniforms are added the the hash table supplied to the constructor.</p>
<p>If the same uniform is added multiple times (i.e., once for each shader target), it will only be accounted once. </p>
</div><h2 class="groupheader">Constructor &amp; Destructor Documentation</h2>
<a class="anchor" id="a5d45d0b324dd205fd75fd5fdb25d56f5"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">count_uniform_size::count_uniform_size </td>
          <td>(</td>
          <td class="paramtype">struct string_to_uint_map *&#160;</td>
          <td class="paramname"><em>map</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

</div>
</div>
<h2 class="groupheader">Member Function Documentation</h2>
<a class="anchor" id="a3060a8080b6f96cffd1da3900b20232d"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void count_uniform_size::process </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classir__variable.html">ir_variable</a> *&#160;</td>
          <td class="paramname"><em>var</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>References <a class="el" href="classir__variable.html#a32496cd2fa1c677be19fcb8acef44faf">ir_variable::interface_type</a>, <a class="el" href="classir__variable.html#a01193dbe271559cdbe2f951ed17de8eb">ir_variable::is_interface_instance()</a>, and <a class="el" href="classprogram__resource__visitor.html#aad94aa68248077ec74df085aadbd0a13">program_resource_visitor::process()</a>.</p>

<p>Referenced by <a class="el" href="linker_8h.html#a87697e0a9d37fa9b9fa1b54593defa87">link_assign_uniform_locations()</a>.</p>

<p><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="classcount__uniform__size_a3060a8080b6f96cffd1da3900b20232d_cgraph.png" border="0" usemap="#classcount__uniform__size_a3060a8080b6f96cffd1da3900b20232d_cgraph" alt=""/></div>
<map name="classcount__uniform__size_a3060a8080b6f96cffd1da3900b20232d_cgraph" id="classcount__uniform__size_a3060a8080b6f96cffd1da3900b20232d_cgraph">
<area shape="rect" id="node3" href="classir__variable.html#a01193dbe271559cdbe2f951ed17de8eb" title="Determine whether or not a variable is the declaration of an interface block." alt="" coords="195,5,351,46"/><area shape="rect" id="node5" href="classprogram__resource__visitor.html#aad94aa68248077ec74df085aadbd0a13" title="Begin processing a variable." alt="" coords="189,70,357,111"/><area shape="rect" id="node7" href="ralloc_8c.html#a0565a6a6f82e3ca9fbae2ede2ee8ac39" title="Duplicate a string, allocating the memory from the given context." alt="" coords="441,27,537,53"/><area shape="rect" id="node9" href="ralloc_8c.html#a280f5ecb6525a10e479c0b7c4ff89690" title="Free a piece of ralloc&#45;managed memory." alt="" coords="448,77,531,104"/><area shape="rect" id="node17" href="classprogram__resource__visitor.html#abb1ff14993a4a7f48e7a748642a5c240" title="Method invoked for each leaf of the variable." alt="" coords="405,129,573,170"/><area shape="rect" id="node11" href="ralloc_8c.html#a0fc43c6a4cfbe7313285d0fd1d265e9c" title="get_header" alt="" coords="626,27,713,53"/><area shape="rect" id="node13" href="ralloc_8c.html#aa9f5466d1f5d3f1d2e706fd1b7f46b0a" title="unlink_block" alt="" coords="622,77,717,104"/><area shape="rect" id="node15" href="ralloc_8c.html#a839faa4b9da078e336f8d5e6b211eb2c" title="unsafe_free" alt="" coords="624,128,715,155"/></map>
</div>
</p>

</div>
</div>
<a class="anchor" id="a327fe58790f50a7aa250d34a531cc4b7"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void count_uniform_size::start_shader </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>References <a class="el" href="classcount__uniform__size.html#ad77496fd7700d3866961510400e9c988">num_shader_samplers</a>, and <a class="el" href="classcount__uniform__size.html#a9526c9708f3204bf51566388fd7b8b1a">num_shader_uniform_components</a>.</p>

<p>Referenced by <a class="el" href="linker_8h.html#a87697e0a9d37fa9b9fa1b54593defa87">link_assign_uniform_locations()</a>.</p>

</div>
</div>
<h2 class="groupheader">Field Documentation</h2>
<a class="anchor" id="a10c0547caffb4e9121e2d5c099aae1b4"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">unsigned count_uniform_size::num_active_uniforms</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Total number of active uniforms counted. </p>

<p>Referenced by <a class="el" href="linker_8h.html#a87697e0a9d37fa9b9fa1b54593defa87">link_assign_uniform_locations()</a>.</p>

</div>
</div>
<a class="anchor" id="ad77496fd7700d3866961510400e9c988"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">unsigned count_uniform_size::num_shader_samplers</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Number of samplers used. </p>

<p>Referenced by <a class="el" href="linker_8h.html#a87697e0a9d37fa9b9fa1b54593defa87">link_assign_uniform_locations()</a>, and <a class="el" href="classcount__uniform__size.html#a327fe58790f50a7aa250d34a531cc4b7">start_shader()</a>.</p>

</div>
</div>
<a class="anchor" id="a9526c9708f3204bf51566388fd7b8b1a"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">unsigned count_uniform_size::num_shader_uniform_components</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Number of uniforms used in the current shader. </p>

<p>Referenced by <a class="el" href="linker_8h.html#a87697e0a9d37fa9b9fa1b54593defa87">link_assign_uniform_locations()</a>, and <a class="el" href="classcount__uniform__size.html#a327fe58790f50a7aa250d34a531cc4b7">start_shader()</a>.</p>

</div>
</div>
<a class="anchor" id="a8e0d7810fdb9f207372ba0969a993bf5"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">unsigned count_uniform_size::num_values</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Number of data values required to back the storage for the active uniforms. </p>

<p>Referenced by <a class="el" href="linker_8h.html#a87697e0a9d37fa9b9fa1b54593defa87">link_assign_uniform_locations()</a>.</p>

</div>
</div>
<hr/>The documentation for this class was generated from the following file:<ul>
<li><a class="el" href="link__uniforms_8cpp.html">link_uniforms.cpp</a></li>
</ul>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.3.1
</small></address>
</body>
</html>
