<html>
<head>
<title>Mesa Source Code Documentation</title>
<link href="doxygen.css" rel="stylesheet" type="text/css">
</head>
<body>
<div class="qindex">
<a class="qindex" href="../main/index.html">core</a> |
<a class="qindex" href="../glapi/index.html">glapi</a> |
<a class="qindex" href="../glsl/index.html">glsl</a> |
<a class="qindex" href="../vbo/index.html">vbo</a> |
<a class="qindex" href="../math/index.html">math</a> |
<a class="qindex" href="../shader/index.html">shader</a> |
<a class="qindex" href="../swrast/index.html">swrast</a> |
<a class="qindex" href="../swrast_setup/index.html">swrast_setup</a> |
<a class="qindex" href="../tnl/index.html">tnl</a> |
<a class="qindex" href="../tnl_dd/index.html">tnl_dd</a> |
<a class="qindex" href="../gbm/index.html">gbm</a>
</div>
<!-- Generated by Doxygen 1.8.3.1 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li><a href="pages.html"><span>Related&#160;Pages</span></a></li>
      <li><a href="modules.html"><span>Modules</span></a></li>
      <li><a href="namespaces.html"><span>Namespaces</span></a></li>
      <li><a href="annotated.html"><span>Data&#160;Structures</span></a></li>
      <li class="current"><a href="files.html"><span>Files</span></a></li>
      <li>
        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.png" alt=""/></a>
          </span>
        </div>
      </li>
    </ul>
  </div>
  <div id="navrow2" class="tabs2">
    <ul class="tablist">
      <li><a href="files.html"><span>File&#160;List</span></a></li>
      <li><a href="globals.html"><span>Globals</span></a></li>
    </ul>
  </div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
<a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(0)"><span class="SelectionMark">&#160;</span>All</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(1)"><span class="SelectionMark">&#160;</span>Data Structures</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(2)"><span class="SelectionMark">&#160;</span>Namespaces</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(3)"><span class="SelectionMark">&#160;</span>Files</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(4)"><span class="SelectionMark">&#160;</span>Functions</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(5)"><span class="SelectionMark">&#160;</span>Variables</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(6)"><span class="SelectionMark">&#160;</span>Typedefs</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(7)"><span class="SelectionMark">&#160;</span>Enumerations</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(8)"><span class="SelectionMark">&#160;</span>Enumerator</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(9)"><span class="SelectionMark">&#160;</span>Friends</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(10)"><span class="SelectionMark">&#160;</span>Macros</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(11)"><span class="SelectionMark">&#160;</span>Groups</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(12)"><span class="SelectionMark">&#160;</span>Pages</a></div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><a class="el" href="dir_68267d1309a1af8e8297ef4c3efbcdba.html">src</a></li><li class="navelem"><a class="el" href="dir_9d873dbfec6053c8a46a8bdca18df976.html">glsl</a></li>  </ul>
</div>
</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#nested-classes">Data Structures</a> &#124;
<a href="#func-members">Functions</a>  </div>
  <div class="headertitle">
<div class="title">ir_set_program_inouts.cpp File Reference</div>  </div>
</div><!--header-->
<div class="contents">

<p>Sets the InputsRead and OutputsWritten of Mesa programs.  
<a href="#details">More...</a></p>
<div class="textblock"><code>#include &quot;main/core.h&quot;</code><br/>
<code>#include &quot;<a class="el" href="ir_8h.html">ir.h</a>&quot;</code><br/>
<code>#include &quot;<a class="el" href="ir__visitor_8h.html">ir_visitor.h</a>&quot;</code><br/>
<code>#include &quot;<a class="el" href="glsl__types_8h.html">glsl_types.h</a>&quot;</code><br/>
</div><div class="textblock"><div class="dynheader">
Include dependency graph for ir_set_program_inouts.cpp:</div>
<div class="dyncontent">
<div class="center"><img src="ir__set__program__inouts_8cpp__incl.png" border="0" usemap="#ir__set__program__inouts_8cpp" alt=""/></div>
<map name="ir__set__program__inouts_8cpp" id="ir__set__program__inouts_8cpp">
<area shape="rect" id="node5" href="ir_8h.html" title="ir.h" alt="" coords="428,80,468,107"/><area shape="rect" id="node21" href="glsl__types_8h.html" title="glsl_types.h" alt="" coords="534,155,625,181"/><area shape="rect" id="node34" href="ir__visitor_8h.html" title="ir_visitor.h" alt="" coords="651,155,733,181"/><area shape="rect" id="node11" href="ralloc_8h.html" title="ralloc: a recursive memory allocator" alt="" coords="249,229,313,256"/><area shape="rect" id="node29" href="list_8h.html" title="Doubly&#45;linked list abstract container type." alt="" coords="323,155,373,181"/><area shape="rect" id="node36" href="ir__hierarchical__visitor_8h.html" title="ir_hierarchical_visitor.h" alt="" coords="5,155,160,181"/></map>
</div>
</div><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="nested-classes"></a>
Data Structures</h2></td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">class &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classir__set__program__inouts__visitor.html">ir_set_program_inouts_visitor</a></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:a154a34402b617ad97f3a9ef6d5f35c14"><td class="memItemLeft" align="right" valign="top">static bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="ir__set__program__inouts_8cpp.html#a154a34402b617ad97f3a9ef6d5f35c14">is_shader_inout</a> (<a class="el" href="classir__variable.html">ir_variable</a> *var)</td></tr>
<tr class="separator:a154a34402b617ad97f3a9ef6d5f35c14"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae77bd1f969033c17d4dc973f429c1b28"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="ir__set__program__inouts_8cpp.html#ae77bd1f969033c17d4dc973f429c1b28">mark</a> (struct gl_program *prog, <a class="el" href="classir__variable.html">ir_variable</a> *var, int offset, int len, bool is_fragment_shader)</td></tr>
<tr class="separator:ae77bd1f969033c17d4dc973f429c1b28"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ada66a616d0d0208e0effea4fb74de477"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="ir__set__program__inouts_8cpp.html#ada66a616d0d0208e0effea4fb74de477">do_set_program_inouts</a> (<a class="el" href="structexec__list.html">exec_list</a> *instructions, struct gl_program *prog, bool is_fragment_shader)</td></tr>
<tr class="separator:ada66a616d0d0208e0effea4fb74de477"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>Sets the InputsRead and OutputsWritten of Mesa programs. </p>
<p>Additionally, for fragment shaders, sets the InterpQualifier array, the IsCentroid bitfield, and the UsesDFdy flag.</p>
<p>Mesa programs (gl_program, not gl_shader_program) have a set of flags indicating which varyings are read and written. Computing which are actually read from some sort of backend code can be tricky when variable array indexing involved. So this pass provides support for setting InputsRead and OutputsWritten right from the GLSL IR. </p>
</div><h2 class="groupheader">Function Documentation</h2>
<a class="anchor" id="ada66a616d0d0208e0effea4fb74de477"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void do_set_program_inouts </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structexec__list.html">exec_list</a> *&#160;</td>
          <td class="paramname"><em>instructions</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct gl_program *&#160;</td>
          <td class="paramname"><em>prog</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname"><em>is_fragment_shader</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>References <a class="el" href="ir__hierarchical__visitor_8h.html#a3d916e3fe1319c5d975084a1c412aa37">visit_list_elements()</a>.</p>

<p><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="ir__set__program__inouts_8cpp_ada66a616d0d0208e0effea4fb74de477_cgraph.png" border="0" usemap="#ir__set__program__inouts_8cpp_ada66a616d0d0208e0effea4fb74de477_cgraph" alt=""/></div>
<map name="ir__set__program__inouts_8cpp_ada66a616d0d0208e0effea4fb74de477_cgraph" id="ir__set__program__inouts_8cpp_ada66a616d0d0208e0effea4fb74de477_cgraph">
<area shape="rect" id="node3" href="ir__hierarchical__visitor_8h.html#a3d916e3fe1319c5d975084a1c412aa37" title="Process a list of nodes using a hierarchical vistor." alt="" coords="211,5,341,32"/><area shape="rect" id="node5" href="classir__instruction.html#aa797356958ce35850f057499c48a572c" title="ir_instruction::accept" alt="" coords="390,5,533,32"/></map>
</div>
</p>

</div>
</div>
<a class="anchor" id="a154a34402b617ad97f3a9ef6d5f35c14"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static bool is_shader_inout </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classir__variable.html">ir_variable</a> *&#160;</td>
          <td class="paramname"><em>var</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>References <a class="el" href="group__IR.html#gga2059265a007b6c8e188c9ab3f6707f3eaeb82aed877687ce98ebc49c649d8c433">ir_var_shader_in</a>, <a class="el" href="group__IR.html#gga2059265a007b6c8e188c9ab3f6707f3eab2400cd8366e434e5f1b937bda5d6219">ir_var_shader_out</a>, <a class="el" href="group__IR.html#gga2059265a007b6c8e188c9ab3f6707f3ea0355e9b62192546b2a23277d4f67a4dd">ir_var_system_value</a>, and <a class="el" href="classir__variable.html#a4d0c745b82459e6444d750b240875fb4">ir_variable::mode</a>.</p>

<p>Referenced by <a class="el" href="classir__set__program__inouts__visitor.html#a67d09b291f98c62e65ad6b8c463a82a6">ir_set_program_inouts_visitor::visit()</a>, and <a class="el" href="classir__set__program__inouts__visitor.html#a781a0fc9c9611faac711c8e9d08972d1">ir_set_program_inouts_visitor::visit_enter()</a>.</p>

</div>
</div>
<a class="anchor" id="ae77bd1f969033c17d4dc973f429c1b28"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static void mark </td>
          <td>(</td>
          <td class="paramtype">struct gl_program *&#160;</td>
          <td class="paramname"><em>prog</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classir__variable.html">ir_variable</a> *&#160;</td>
          <td class="paramname"><em>var</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>offset</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>len</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname"><em>is_fragment_shader</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>References <a class="el" href="classir__variable.html#a90961a9efb99ed840fefcc9924282f8c">ir_variable::centroid</a>, <a class="el" href="classir__variable.html#aa96bee337daf64bc3b62e6e98f7e2347">ir_variable::index</a>, <a class="el" href="classir__variable.html#ad9a8ee39895d27cf6690246f11fd5d4b">ir_variable::interpolation</a>, <a class="el" href="group__IR.html#gga2059265a007b6c8e188c9ab3f6707f3eaeb82aed877687ce98ebc49c649d8c433">ir_var_shader_in</a>, <a class="el" href="group__IR.html#gga2059265a007b6c8e188c9ab3f6707f3eab2400cd8366e434e5f1b937bda5d6219">ir_var_shader_out</a>, <a class="el" href="group__IR.html#gga2059265a007b6c8e188c9ab3f6707f3ea0355e9b62192546b2a23277d4f67a4dd">ir_var_system_value</a>, <a class="el" href="classir__variable.html#a37adbd6e286e4f32dab6d490e5bb3e50">ir_variable::location</a>, and <a class="el" href="classir__variable.html#a4d0c745b82459e6444d750b240875fb4">ir_variable::mode</a>.</p>

<p>Referenced by <a class="el" href="classir__set__program__inouts__visitor.html#a67d09b291f98c62e65ad6b8c463a82a6">ir_set_program_inouts_visitor::visit()</a>, and <a class="el" href="classir__set__program__inouts__visitor.html#a781a0fc9c9611faac711c8e9d08972d1">ir_set_program_inouts_visitor::visit_enter()</a>.</p>

</div>
</div>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.3.1
</small></address>
</body>
</html>
